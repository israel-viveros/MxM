/*!
 *   TIM Developer:
 *   Version: 1.1.1
 *   Copyright: Televisa Interactive Media (2014)
 */
(function(){$.fn.MxMTeamDraft=function(a){var c=$.extend({idTorneo:0,idTeam:0,nameTournament:""},a);
var d={urlData:"http://static-televisadeportes.esmas.com/sportsdata/futbol/draft/"+c.nameTournament+"/teamdraft.js",tagWdgTeamDraft:$("#containerwdg_teamdraft_01"),arrayAltas:new Array(),arrayBajas:new Array(),arrayRumores:new Array(),arrayTrans:new Array(),arrayPrestamos:new Array(),flagTypeAltas:0,flagTypeBajas:0,flagTypeRumores:0,flagTypeTransf:0,flagTypePrestamos:0,remplazaComas:function(f){var g="";
for(var e=0;e<f.length;e++){g=g+f[e];}return g;},typeDraft:function(n,h,l,f,i,m,j,g,e,p,o,k){switch(n){case"ALTA":console.log(p);d.flagTypeAltas=1;maquetado="<tr class='vote_block'>";
maquetado+="<td class='dotted-right' data-urlDraft=' "+o+" ' data-url='http://polls.esmas.com/jugadores/torneo/"+c.idTorneo+"/partido/"+h+"/jugador/"+k+"'>";
maquetado+=l;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td width='22'><img src='"+p+"'></td>";maquetado+="<td class='dotted-right'>"+f+"</td>";
maquetado+="<td class='dotted-right center'>"+m+"</td>";maquetado+="<td class='textcolor-title1'>0</td>";maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF; left:0;'><div class='dotted-top'></div>";
maquetado+="<div class='qualifies'>";maquetado+="<div>califica al jugador</div>";maquetado+="</div>";maquetado+="<div class='calification  textcolor-title4'>";
maquetado+="<div><a href='#'>5</a></div>";maquetado+="<div><a href='#'>6</a></div>";maquetado+="<div><a href='#'>7</a></div>";maquetado+="<div><a href='#'>8</a></div>";
maquetado+="<div><a href='#'>9</a></div>";maquetado+="<div><a href='#'>10</a></div>";maquetado+="</div>";maquetado+="<div class='participated  textcolor-title4'>";
maquetado+="<div class='voted'>";maquetado+="<p>Gracias por votar <i class='tvsa-like'></i></p>";maquetado+="</div>";maquetado+="</div>";maquetado+="</td>";
maquetado+="</tr>";d.arrayAltas.push(maquetado);break;case"BAJA":d.flagTypeBajas=1;maquetado="<tr class='vote_block'>";maquetado+="<td class='dotted-right' data-urlDraft=' "+o+" ' data-url='http://polls.esmas.com/jugadores/torneo/"+c.idTorneo+"/partido/"+h+"/jugador/"+k+"'>";
maquetado+=l;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td width='22'><img src='"+p+"'></td>";maquetado+="<td class='dotted-right'>"+f+"</td>";
maquetado+="<td class='dotted-right center'>"+m+"</td>";maquetado+="<td class='textcolor-title1'>0</td>";maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF; left:0'><div class='dotted-top'></div>";
maquetado+="<div class='qualifies'>";maquetado+="<div>califica al jugador</div>";maquetado+="</div>";maquetado+="<div class='calification  textcolor-title4'>";
maquetado+="<div><a href='#'>5</a></div>";maquetado+="<div><a href='#'>6</a></div>";maquetado+="<div><a href='#'>7</a></div>";maquetado+="<div><a href='#'>8</a></div>";
maquetado+="<div><a href='#'>9</a></div>";maquetado+="<div><a href='#'>10</a></div>";maquetado+="</div>";maquetado+="<div class='participated  textcolor-title4'>";
maquetado+="<div class='voted'>";maquetado+="<p>Gracias por votar <i class='tvsa-like'></i></p>";maquetado+="</div>";maquetado+="</div>";maquetado+="</td>";
maquetado+="</tr>";d.arrayBajas.push(maquetado);break;case"RUMORES":d.flagTypeRumores=1;maquetado="<tr class=''>";maquetado+="<td class='dotted-right'  data-urlDraft='"+o+"' data-url='http://polls.esmas.com/jugadores/torneo/"+c.idTorneo+"/partido/"+h+"/jugador/"+k+"'>";
maquetado+=l;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td class='dotted-right'>"+g+"</td>";maquetado+="<td class='gris'>"+e+"</td>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF; left:0;'><div class='dotted-top'></div></td>";
maquetado+="</tr>";d.arrayRumores.push(maquetado);break;case"TRANSFERIBLES":d.flagTypeTransf=1;maquetado="<tr class=''>";maquetado+="<td class='dotted-right' data-urlDraft='"+o+"' data-url='http://polls.esmas.com/jugadores/torneo/"+c.idTorneo+"/partido/"+h+"/jugador/"+k+"'>";
maquetado+=l;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td class='dotted-right'>"+g+"</td>";maquetado+="<td class='gris'>"+e+"</td>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF;left:0;'><div class='dotted-top'></div></td>";
maquetado+="</tr>";d.arrayTrans.push(maquetado);break;case"PRESTAMO":d.flagTypePrestamos=1;maquetado="<tr class='vote_block'>";maquetado+="<td class='dotted-right' data-urlDraft='"+o+"' data-url='http://polls.esmas.com/jugadores/torneo/"+c.idTorneo+"/partido/"+h+"/jugador/"+k+"'>";
maquetado+=l;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td width='22'><img src='"+p+"'></td>";maquetado+="<td class='dotted-right'>"+f+"</td>";
maquetado+="<td class='dotted-right center'>"+m+"</td>";maquetado+="<td class='textcolor-title1'>0</td>";maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF; left:0;'><div class='dotted-top'></div>";
maquetado+="<div class='qualifies'>";maquetado+="<div>califica al jugador</div>";maquetado+="</div>";maquetado+="<div class='calification  textcolor-title4'>";
maquetado+="<div><a href='#'>5</a></div>";maquetado+="<div><a href='#'>6</a></div>";maquetado+="<div><a href='#'>7</a></div>";maquetado+="<div><a href='#'>8</a></div>";
maquetado+="<div><a href='#'>9</a></div>";maquetado+="<div><a href='#'>10</a></div>";maquetado+="</div>";maquetado+="<div class='participated  textcolor-title4'>";
maquetado+="<div class='voted'>";maquetado+="<p>Gracias por votar <i class='tvsa-like'></i></p>";maquetado+="</div>";maquetado+="</div>";maquetado+="</td>";
maquetado+="</tr>";d.arrayPrestamos.push(maquetado);break;default:console.log(n);break;}},viewHtml:function(C){var r=C.draftURL;for(var x=0;x<C.draftTeams.length;
x++){if(C.draftTeams[x]["id"]==c.idTeam){var B=C.draftTeams[x]["name"];var q=C.draftTeams[x]["clubName"];var p=C.draftTeams[x]["namePresident"];var t=C.draftTeams[x]["charge"];
for(var v=0;v<C.draftTeams[x]["logos"].length;v++){if(v==0){var o=C.draftTeams[x]["logos"][v]["URL"];}}for(var s=0;s<C.draftTeams[x]["operation"].length;
s++){var f="";var u="";var h="";var m="";var k="";var g="";var w="";var j="";var A="";var y="";var e="";f=C.draftTeams[x]["operation"][s]["type"];u=C.draftTeams[x]["operation"][s]["id"];
h=C.draftTeams[x]["operation"][s]["name"];m=C.draftTeams[x]["operation"][s]["lastTeam"];k=C.draftTeams[x]["operation"][s]["transfer"];g=C.draftTeams[x]["operation"][s]["rantingTD"];
w=C.draftTeams[x]["operation"][s]["ratingUser"];j=C.draftTeams[x]["operation"][s]["nationality"];A=C.draftTeams[x]["operation"][s]["Detail"];y=C.draftTeams[x]["operation"][s]["logolastTeam"];
e=C.draftTeams[x]["operation"][s]["playerURL"].split("/");e=e[4];d.typeDraft(f,u,h,m,k,g,w,j,A,y,r,e);}}}var z="";maquetado="<div id='wdg_teamdraft_01' class='wdg_teamdraft_01' data-enhance='false'>";
maquetado+="<div class='div1'><img src='"+o+"'></div>";maquetado+="<div class='div2'>";maquetado+="<div class='textcolor-title1'>"+B+"</div>";maquetado+="<div class='underline'></div>";
maquetado+="<div class='nombre'>"+q+"</div>";maquetado+="<div class='presidente'>"+p+"</div>";maquetado+="<div class='puesto'>"+t+"</div>";maquetado+="</div>";
maquetado+="<div class='div3'>";maquetado+="<div>Altas Totales</div>";maquetado+="<div class='textcolor-title2'>"+d.arrayAltas.length+"</div>";maquetado+="</div>";
maquetado+="<div class='subtitle'>";maquetado+="<div class='textcolor-title4'>Elige a tu jugador y vota</div>";maquetado+="</div>";maquetado+="<div class='scroll'>";
if(d.flagTypeAltas==1){maquetado+="<div class='verde'>";maquetado+="<div class='textcolor-title1 pleca'>Altas</div>";maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";
maquetado+="<tr>";maquetado+="<th class='textcolor-title1 td_large'>JUGADOR</th>";maquetado+="<th width='' class='textcolor-title1 sm' colspan='2'>EQUIPO ANTERIOR</th>";
maquetado+="<th class='gris center f_small td_medium'>TD</th>";maquetado+="<th class='textcolor-title1 f_small td_short'>AFICI&Oacute;N</th>";maquetado+="</tr>";
maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";z=d.arrayAltas;
maquetado+=d.remplazaComas(z);maquetado+="</table>";maquetado+="</div>";}if(d.flagTypeBajas==1){maquetado+="<div class='rojo'>";maquetado+="<div class='textcolor-title1 pleca'>Bajas</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th class='textcolor-title1 td_large'>JUGADOR</th>";
maquetado+="<th width='' class='textcolor-title1 sm' colspan='2'>EQUIPO ANTERIOR</th>";maquetado+="<th class='gris center f_small td_medium'>TD</th>";maquetado+="<th class='textcolor-title1 f_small td_short'>AFICI&Oacute;N</th>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";
z=d.arrayBajas;maquetado+=d.remplazaComas(z);maquetado+="</table>";maquetado+="</div>";}if(d.flagTypeRumores==1){maquetado+="<div class='naranja'>";maquetado+="<div class='textcolor-title1 pleca'>Rumores</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th width='140' class='extcolor-title1'>JUGADOR</th>";
maquetado+="<th width='120' class='textcolor-title1 sp'>NACIONALIDAD</th>";maquetado+="<th width='' class='textcolor-title1'>COMENTARIO</th>";maquetado+="</tr>";
maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";z=d.arrayRumores;
maquetado+=d.remplazaComas(z);maquetado+="</table>";maquetado+="</div>";}if(d.flagTypeTransf==1){maquetado+="<div class='azul'>";maquetado+="<div class='textcolor-title1 pleca'>Transferibles</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th width='140' class='extcolor-title1'>JUGADOR</th>";
maquetado+="<th width='120' class='textcolor-title1 sp'>NACIONALIDAD</th>";maquetado+="<th width='' class='textcolor-title1'>COMENTARIO</th>";maquetado+="</tr>";
maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";z=d.arrayTrans;
maquetado+=d.remplazaComas(z);maquetado+="</table>";maquetado+="</div>";}if(d.flagTypePrestamos==1){maquetado+="<div class='azul2'>";maquetado+="<div class='textcolor-title1 pleca'>Renovaci&oacute;n de Prestamo</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th class='textcolor-title1 td_large'>JUGADOR</th>";
maquetado+="<th width='' class='textcolor-title1 sm' colspan='2'>EQUIPO ANTERIOR</th>";maquetado+="<th class='gris center f_small td_medium'>TD</th>";maquetado+="<th class='textcolor-title1 f_small td_short'>AFICI&Oacute;N</th>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";
z=d.arrayPrestamos;maquetado+=d.remplazaComas(z);maquetado+="</table>";maquetado+="</div>";}maquetado+="<div class='degraded'></div>";maquetado+="</div>";
maquetado+="</div>";d.tagWdgTeamDraft.html(maquetado);},cl_url:function(e){b=e.search(/\?/);if(b!=-1){b=e.search(/\=/);if(b!=-1){e=e.replace(/\=/g,"_");
e=e.replace(/\&/g,"/");e=e.replace("?","/no_clean_url/");}}b=e.search(/\#/);if(b!=-1){e=e.substring(0,b);}b=e.search(/\?/);if(b!=-1){e=e.substring(0,b);
}return e;},funcionesNaat:function(){console.log("funcionesNaat");$("containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft .vote_block").on("touchstart",function(i){if($(window).width()>624){var h=$(this).next("tr").find("td.separador .qualifies").css("display");
var g=$(this).next("tr").find("td.separador .calification").css("display");var f=$(this).next("tr").find("td.separador .participated").css("display");if(h!="none"||g!="none"||f!="none"){$(this).next("tr").find("td.separador .qualifies").hide();
$(this).next("tr").find("td.separador .calification").hide();$(this).next("tr").find("td.separador .participated").hide();$(this).next("tr").find("td.separador .dotted-top").show();
}else{$(this).next("tr").find("td.separador .qualifies").show();$(this).next("tr").find("td.separador .calification").show();$(this).next("tr").find("td.separador .dotted-top").hide();
}if(g==null&&f=="none"){$(this).next("tr").find("td.separador .qualifies").show();$(this).next("tr").find("td.separador .participated").show();$(this).next("tr").find("td.separador .dotted-top").hide();
}}else{}});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft .vote_block").mouseenter(function(){$(this).next("tr").find("td.separador .qualifies").show();
if($(window).width()<624){return;}e();$(this).next("tr").find("td.separador .dotted-top").hide();$(this).next("tr").find("td.separador .qualifies").show();
if($(this).next("tr").find(" td.separador .calification").length>0){$(this).next("tr").find(" td.separador .calification").show();}else{$(this).next("tr").find(" td.separador .participated").show();
}});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft").mouseleave(function(){e();});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft .separador .calification a").click(function(m){m.preventDefault();
var g=$(this).text();var i=$(this).parents("tr");var j=i.prev();var k=j.children(":first-child");console.log(k);var f=j.children(".textcolor-title1");console.log("porcentaje");
console.log(f.text());var h=k.data("url");console.log("URL");console.log(h);var l="";console.log(h);console.log(g+" - "+h+" - "+l);if(typeof l=="undefined"){l=null;
}if(typeof h=="undefined"){h=wdg_playerdraft_01.cl_url(h);}console.log(g);console.log(h);f.html("1");$(this).parents(".calification").hide();$(this).parents(".separador").find(".participated").fadeIn().delay(1000).fadeOut(function(){$(this).parents(".separador").find(".qualifies").hide();
$(this).parents(".separador").find(".dotted-top").show();});$(this).parents(".calification").remove();});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft .separador .participated").mouseout(function(){$(this).hide();
$(this).parents(".separador").find(".qualifies").hide();$(this).parents(".separador").find(".dotted-top").show();});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01  .tblDraft .calification div a").mouseover(function(){$(this).addClass("textcolor-title1");
});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01  .tblDraft .calification div a").mouseout(function(){$(this).removeClass("textcolor-title1");});function e(){$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td.separador .calification").hide();
$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td.separador .participated").hide();$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td.separador .qualifies").hide();
$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td.separador .dotted-top").show();}if($.browser.msie&&parseInt($.browser.version,10)<=8){$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td").css("display","block");
$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft th").css("display","block");}},getDataTeamDraft:function(){console.log("getDataTeamDraft");console.log(d.urlData);
$.ajax({url:d.urlData,type:"GET",dataType:"jsonp",jsonpCallback:"teamDraft",cache:false,success:function(e){d.viewHtml(e);},error:function(e){console.log("ERROR____");
}});}};$.when(d.getDataTeamDraft()).done(function(){setTimeout(function(){d.funcionesNaat();},3000);});};})(jQuery);