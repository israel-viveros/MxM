(function(){$.fn.MxMTeamDraft=function(a){var c=$.extend({idTorneo:0,idTeam:0},a);var d={urlData:"http://lab.israelviveros.com/draft/"+c.idTorneo+"/draft.js",tagWdgTeamDraft:$("#containerwdg_teamdraft_01"),arrayAltas:new Array(),arrayBajas:new Array(),arrayRumores:new Array(),arrayTrans:new Array(),arrayPrestamos:new Array(),flagTypeAltas:0,flagTypeBajas:0,flagTypeRumores:0,flagTypeTransf:0,flagTypePrestamos:0,remplazaComas:function(f){var g="";
for(var e=0;e<f.length;e++){g=g+f[e];}return g;},typeDraft:function(m,h,k,f,i,l,j,g,e,o,n){switch(m){case"ALTA":console.log(o);d.flagTypeAltas=1;maquetado="<tr class='vote_block'>";
maquetado+="<td class='dotted-right' data-idOperation='"+h+"' data-urlDraft='"+n+"'>";maquetado+=k;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";
maquetado+="<td width='22'><img src='"+o+"'></td>";maquetado+="<td class='dotted-right'>"+f+"</td>";maquetado+="<td class='dotted-right center'>"+l+"</td>";
maquetado+="<td class='textcolor-title1'>0</td>";maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF; left:0;'><div class='dotted-top'></div>";
maquetado+="<div class='qualifies'>";maquetado+="<div>califica al jugador</div>";maquetado+="</div>";maquetado+="<div class='calification  textcolor-title4'>";
maquetado+="<div><a href='#'>5</a></div>";maquetado+="<div><a href='#'>6</a></div>";maquetado+="<div><a href='#'>7</a></div>";maquetado+="<div><a href='#'>8</a></div>";
maquetado+="<div><a href='#'>9</a></div>";maquetado+="<div><a href='#'>10</a></div>";maquetado+="</div>";maquetado+="<div class='participated  textcolor-title4'>";
maquetado+="<div class='voted'>";maquetado+="<p>Gracias por votar <i class='tvsa-like'></i></p>";maquetado+="</div>";maquetado+="</div>";maquetado+="</td>";
maquetado+="</tr>";d.arrayAltas.push(maquetado);break;case"BAJA":d.flagTypeBajas=1;maquetado="<tr class='vote_block'>";maquetado+="<td class='dotted-right' data-idOperation='"+h+"' data-urlDraft='"+n+"'>";
maquetado+=k;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td width='22'><img src='"+o+"'></td>";maquetado+="<td class='dotted-right'>"+f+"</td>";
maquetado+="<td class='dotted-right center'>"+l+"</td>";maquetado+="<td class='textcolor-title1'>0</td>";maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF; left:0'><div class='dotted-top'></div>";
maquetado+="<div class='qualifies'>";maquetado+="<div>califica al jugador</div>";maquetado+="</div>";maquetado+="<div class='calification  textcolor-title4'>";
maquetado+="<div><a href='#'>5</a></div>";maquetado+="<div><a href='#'>6</a></div>";maquetado+="<div><a href='#'>7</a></div>";maquetado+="<div><a href='#'>8</a></div>";
maquetado+="<div><a href='#'>9</a></div>";maquetado+="<div><a href='#'>10</a></div>";maquetado+="</div>";maquetado+="<div class='participated  textcolor-title4'>";
maquetado+="<div class='voted'>";maquetado+="<p>Gracias por votar <i class='tvsa-like'></i></p>";maquetado+="</div>";maquetado+="</div>";maquetado+="</td>";
maquetado+="</tr>";d.arrayBajas.push(maquetado);break;case"RUMORES":d.flagTypeRumores=1;maquetado="<tr class=''>";maquetado+="<td class='dotted-right' data-idOperation='"+h+"' data-urlDraft='"+n+"'>";
maquetado+=k;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td class='dotted-right'>"+g+"</td>";maquetado+="<td class='gris'>"+e+"</td>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF; left:0;'><div class='dotted-top'></div></td>";
maquetado+="</tr>";d.arrayRumores.push(maquetado);break;case"TRANSFERIBLES":d.flagTypeTransf=1;maquetado="<tr class=''>";maquetado+="<td class='dotted-right' data-idOperation='"+h+"' data-urlDraft='"+n+"'>";
maquetado+=k;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td class='dotted-right'>"+g+"</td>";maquetado+="<td class='gris'>"+e+"</td>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF;left:0;'><div class='dotted-top'></div></td>";
maquetado+="</tr>";d.arrayTrans.push(maquetado);break;case"PRESTAMO":d.flagTypePrestamos=1;maquetado="<tr class='vote_block'>";maquetado+="<td class='dotted-right' data-idOperation='"+h+"' data-urlDraft='"+n+"'>";
maquetado+=k;maquetado+="<div class='nacionalidad'>"+g+"</div>";maquetado+="</td>";maquetado+="<td width='22'><img src='"+o+"'></td>";maquetado+="<td class='dotted-right'>"+f+"</td>";
maquetado+="<td class='dotted-right center'>"+l+"</td>";maquetado+="<td class='textcolor-title1'>0</td>";maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow: 0px 0px 0px #FFF; left:0;'><div class='dotted-top'></div>";
maquetado+="<div class='qualifies'>";maquetado+="<div>califica al jugador</div>";maquetado+="</div>";maquetado+="<div class='calification  textcolor-title4'>";
maquetado+="<div><a href='#'>5</a></div>";maquetado+="<div><a href='#'>6</a></div>";maquetado+="<div><a href='#'>7</a></div>";maquetado+="<div><a href='#'>8</a></div>";
maquetado+="<div><a href='#'>9</a></div>";maquetado+="<div><a href='#'>10</a></div>";maquetado+="</div>";maquetado+="<div class='participated  textcolor-title4'>";
maquetado+="<div class='voted'>";maquetado+="<p>Gracias por votar <i class='tvsa-like'></i></p>";maquetado+="</div>";maquetado+="</div>";maquetado+="</td>";
maquetado+="</tr>";d.arrayPrestamos.push(maquetado);break;default:console.log(m);break;}},viewHtml:function(B){var q=B.draftURL;for(var w=0;w<B.draftTeams.length;
w++){if(B.draftTeams[w]["id"]==c.idTeam){var A=B.draftTeams[w]["name"];var p=B.draftTeams[w]["clubName"];var o=B.draftTeams[w]["namePresident"];var s=B.draftTeams[w]["charge"];
for(var u=0;u<B.draftTeams[w]["logos"].length;u++){if(u==0){var m=B.draftTeams[w]["logos"][u]["URL"];}}for(var r=0;r<B.draftTeams[w]["operation"].length;
r++){var e="";var t="";var g="";var k="";var j="";var f="";var v="";var h="";var z="";var x="";e=B.draftTeams[w]["operation"][r]["type"];t=B.draftTeams[w]["operation"][r]["id"];
g=B.draftTeams[w]["operation"][r]["name"];k=B.draftTeams[w]["operation"][r]["lastTeam"];j=B.draftTeams[w]["operation"][r]["transfer"];f=B.draftTeams[w]["operation"][r]["rantingTD"];
v=B.draftTeams[w]["operation"][r]["ratingUser"];h=B.draftTeams[w]["operation"][r]["nationality"];z=B.draftTeams[w]["operation"][r]["Detail"];x=B.draftTeams[w]["operation"][r]["logolastTeam"];
d.typeDraft(e,t,g,k,j,f,v,h,z,x,q);}}}var y="";maquetado="<div id='wdg_teamdraft_01' class='wdg_teamdraft_01' data-enhance='false'>";maquetado+="<div class='div1'><img src='"+m+"'></div>";
maquetado+="<div class='div2'>";maquetado+="<div class='textcolor-title1'>"+A+"</div>";maquetado+="<div class='underline'></div>";maquetado+="<div class='nombre'>"+p+"</div>";
maquetado+="<div class='presidente'>"+o+"</div>";maquetado+="<div class='puesto'>"+s+"</div>";maquetado+="</div>";maquetado+="<div class='div3'>";maquetado+="<div>Altas Totales</div>";
maquetado+="<div class='textcolor-title2'>"+d.arrayAltas.length+"</div>";maquetado+="</div>";maquetado+="<div class='subtitle'>";maquetado+="<div class='textcolor-title4'>Elige a tu jugador y vota</div>";
maquetado+="</div>";maquetado+="<div class='scroll'>";if(d.flagTypeAltas==1){maquetado+="<div class='verde'>";maquetado+="<div class='textcolor-title1 pleca'>Altas</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th class='textcolor-title1 td_large'>JUGADOR</th>";
maquetado+="<th width='' class='textcolor-title1 sm' colspan='2'>EQUIPO ANTERIOR</th>";maquetado+="<th class='gris center f_small td_medium'>TD</th>";maquetado+="<th class='textcolor-title1 f_small td_short'>AFICI&Oacute;N</th>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";
y=d.arrayAltas;maquetado+=d.remplazaComas(y);maquetado+="</table>";maquetado+="</div>";}if(d.flagTypeBajas==1){maquetado+="<div class='rojo'>";maquetado+="<div class='textcolor-title1 pleca'>Bajas</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th class='textcolor-title1 td_large'>JUGADOR</th>";
maquetado+="<th width='' class='textcolor-title1 sm' colspan='2'>EQUIPO ANTERIOR</th>";maquetado+="<th class='gris center f_small td_medium'>TD</th>";maquetado+="<th class='textcolor-title1 f_small td_short'>AFICI&Oacute;N</th>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";
y=d.arrayBajas;maquetado+=d.remplazaComas(y);maquetado+="</table>";maquetado+="</div>";}if(d.flagTypeRumores==1){maquetado+="<div class='naranja'>";maquetado+="<div class='textcolor-title1 pleca'>Rumores</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th width='140' class='extcolor-title1'>JUGADOR</th>";
maquetado+="<th width='120' class='textcolor-title1 sp'>NACIONALIDAD</th>";maquetado+="<th width='' class='textcolor-title1'>COMENTARIO</th>";maquetado+="</tr>";
maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";y=d.arrayRumores;
maquetado+=d.remplazaComas(y);maquetado+="</table>";maquetado+="</div>";}if(d.flagTypeTransf==1){maquetado+="<div class='azul'>";maquetado+="<div class='textcolor-title1 pleca'>Transferibles</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th width='140' class='extcolor-title1'>JUGADOR</th>";
maquetado+="<th width='120' class='textcolor-title1 sp'>NACIONALIDAD</th>";maquetado+="<th width='' class='textcolor-title1'>COMENTARIO</th>";maquetado+="</tr>";
maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";y=d.arrayTrans;
maquetado+=d.remplazaComas(y);maquetado+="</table>";maquetado+="</div>";}if(d.flagTypePrestamos==1){maquetado+="<div class='azul2'>";maquetado+="<div class='textcolor-title1 pleca'>Renovaci&oacute;n de Prestamo</div>";
maquetado+="<table width='100%'' border='0' cellspacing='0' cellpadding='0' class='tblDraft'>";maquetado+="<tr>";maquetado+="<th class='textcolor-title1 td_large'>JUGADOR</th>";
maquetado+="<th width='' class='textcolor-title1 sm' colspan='2'>EQUIPO ANTERIOR</th>";maquetado+="<th class='gris center f_small td_medium'>TD</th>";maquetado+="<th class='textcolor-title1 f_small td_short'>AFICI&Oacute;N</th>";
maquetado+="</tr>";maquetado+="<tr>";maquetado+="<td colspan='7' class='separador' style='position:relative; text-shadow:0px #fff;'></td>";maquetado+="</tr>";
y=d.arrayPrestamos;maquetado+=d.remplazaComas(y);maquetado+="</table>";maquetado+="</div>";}maquetado+="<div class='degraded'></div>";maquetado+="</div>";
maquetado+="</div>";d.tagWdgTeamDraft.html(maquetado);},cl_url:function(e){b=e.search(/\?/);if(b!=-1){b=e.search(/\=/);if(b!=-1){e=e.replace(/\=/g,"_");
e=e.replace(/\&/g,"/");e=e.replace("?","/no_clean_url/");}}b=e.search(/\#/);if(b!=-1){e=e.substring(0,b);}b=e.search(/\?/);if(b!=-1){e=e.substring(0,b);
}return e;},funcionesNaat:function(){console.log("funcionesNaat");$("containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft .vote_block").on("touchstart",function(i){if($(window).width()>624){var h=$(this).next("tr").find("td.separador .qualifies").css("display");
var g=$(this).next("tr").find("td.separador .calification").css("display");var f=$(this).next("tr").find("td.separador .participated").css("display");if(h!="none"||g!="none"||f!="none"){$(this).next("tr").find("td.separador .qualifies").hide();
$(this).next("tr").find("td.separador .calification").hide();$(this).next("tr").find("td.separador .participated").hide();$(this).next("tr").find("td.separador .dotted-top").show();
}else{$(this).next("tr").find("td.separador .qualifies").show();$(this).next("tr").find("td.separador .calification").show();$(this).next("tr").find("td.separador .dotted-top").hide();
}if(g==null&&f=="none"){$(this).next("tr").find("td.separador .qualifies").show();$(this).next("tr").find("td.separador .participated").show();$(this).next("tr").find("td.separador .dotted-top").hide();
}}else{}});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft .vote_block").mouseenter(function(){$(this).next("tr").find("td.separador .qualifies").show();
if($(window).width()<624){return;}e();$(this).next("tr").find("td.separador .dotted-top").hide();$(this).next("tr").find("td.separador .qualifies").show();
if($(this).next("tr").find(" td.separador .calification").length>0){$(this).next("tr").find(" td.separador .calification").show();}else{$(this).next("tr").find(" td.separador .participated").show();
}});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft").mouseleave(function(){e();});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft .separador .calification a").click(function(g){g.preventDefault();
var l=$(this).text();var i="";var h="http://mxm.televisadeportes.esmas.com/futbol/draft/liga-mx-clausura-2013/1733";var l=$(this).text();var f=$(this).parents("tr");
console.log(f);var k=f.prev();console.log(k);var p=k.children(":first-child");console.log(p);var q=p.data("urldraft");var s=p.data("idoperation");var o=q+s;
var n="";console.log("---------------");console.log(q);console.log(s);console.log(l+" - "+o+" - "+n);if(typeof n=="undefined"){n=null;}if(typeof h=="undefined"){h=d.cl_url(o);
}console.log(l);if(l==10){l=5;}else{if(l==9){l=4;}else{if(l==8){l=3;}else{if(l==7){l=2;}else{if(l==6){l=1;}else{l=0;}}}}}console.log(l);if(l<6&&l>=0){var r=l;
var m=5-l;var j=1;var h=o;console.log(m);COMM_img_set=document.createElement("IMG");COMM_img_set.src="http://v.esmas.com:8081/votos/spacer.gif?1|"+r+"|"+m+"|"+j+"|"+h;
console.log(COMM_img_set.src);document.body.appendChild(COMM_img_set);}$(this).parents(".calification").hide();$(this).parents(".separador").find(".participated").fadeIn().delay(1000).fadeOut(function(){$(this).parents(".separador").find(".qualifies").hide();
$(this).parents(".separador").find(".dotted-top").show();});$(this).parents(".calification").remove();});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft .separador .participated").mouseout(function(){$(this).hide();
$(this).parents(".separador").find(".qualifies").hide();$(this).parents(".separador").find(".dotted-top").show();});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01  .tblDraft .calification div a").mouseover(function(){$(this).addClass("textcolor-title1");
});$(".containerwdg_teamdraft_01 .wdg_teamdraft_01  .tblDraft .calification div a").mouseout(function(){$(this).removeClass("textcolor-title1");});function e(){$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td.separador .calification").hide();
$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td.separador .participated").hide();$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td.separador .qualifies").hide();
$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td.separador .dotted-top").show();}if($.browser.msie&&parseInt($.browser.version,10)<=8){$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft td").css("display","block");
$(".containerwdg_teamdraft_01 .wdg_teamdraft_01 .tblDraft th").css("display","block");}},getDataTeamDraft:function(){console.log("getDataTeamDraft");console.log(d.urlData);
$.ajax({url:d.urlData,type:"GET",dataType:"jsonp",jsonpCallback:"llave",cache:false,success:function(e){d.viewHtml(e);},error:function(e){console.log("ERROR____");
}});}};$.when(d.getDataTeamDraft()).done(function(){setTimeout(function(){d.funcionesNaat();},3000);});};})(jQuery);