/*!
 *   TIM Developer: Israel Viveros
 *   Version: 2.3.2
 *   Copyright: Televisa Interactive Media (2014)
 */
(function(){$.fn.wdgAltasBajas=function(i){var e=$.extend({idtorneo:0,idequipo:0,idtorneo2:0,tema:"deportes",txtdropdown:"Jornada"},i);
var h=this;var b="";var j=1;function g(l,n,k){n=(l!=undefined&&l!=null&&l!=""&&l!="null")?l:n;n=$.trim(n.toUpperCase());var m=n.substring(0,k);return m.toUpperCase();
}function a(p,l,n){var k=new Date(timeDTV.timeYear,(timeDTV.timeMonth-1),timeDTV.timeDay,timeDTV.timeHour,timeDTV.timeMinute);var m=new Date((n*1000)+(3600000*6));
var o="-";if(m<k){o=isNaN(p)?l:p;}else{o=p;}o=(o==null)?"-":o;return o;}var c={jornadaCalendarRoute:"http://static-televisadeportes.esmas.com/sportsdata/futbol/data/",jornadaPresente:0,fechaInicio:"",contenidoCentral:"",contenidohidde:"",fechaAct:"",numeroTorneoAct:0,timerCalendar:0,dataCalendar:"",dataCalendarH:"",callbackJornada:"jornada",callbackListado:"jornadalistado",timeRecarga:60000,iniciar:function(o){var n=(e.tema!=="mundial")?"1":"";
MaqueWdgAltas="";MaqueWdgAltas+=(e.title!=="")?'<div class="str_pleca_01"><div class="str_pleca_01_title"><h3 class="str_pleca_01_title background-color'+n+'"><a class="textcolor-title3" ><span id="title-jornada"></span><span class="str_pleca_01_arrowa selected"></span><span class="str_pleca_01_arrowb"></span></a></h3></div>':"";
MaqueWdgAltas+="</div>";MaqueWdgAltas+='<div class="division">';MaqueWdgAltas+=(e.tema!=="mundial")?'<img src="" id="ALtournamentLogo" width="45" height="30">':"";
MaqueWdgAltas+='<h2 class="games"></h2>';MaqueWdgAltas+="</div>";MaqueWdgAltas+='<div class="filterResultado">';MaqueWdgAltas+='<div class="lineaResultado result2">';
MaqueWdgAltas+='<span class="title">'+e.txtdropdown+"</span>";MaqueWdgAltas+='<div class="filter">';MaqueWdgAltas+='<div class="wdg_altasbajas_result_012_dropdown drop2">';
MaqueWdgAltas+='<div class="wdg_altasbajas_result_012_dropdowncontent contentF2" id="name-jornada">';MaqueWdgAltas+="<p></p>";MaqueWdgAltas+='<span class="tvsa-caret-down"></span>';
MaqueWdgAltas+="</div>";MaqueWdgAltas+='<div class="wdg_altasbajas_result_012_listcontainer">';MaqueWdgAltas+='<ul class="wdg_altasbajas_result_012_dropdownlist list2" id="nro_jornadas">';
MaqueWdgAltas+="</ul>";MaqueWdgAltas+="</div>";MaqueWdgAltas+="</div>";MaqueWdgAltas+="</div>";MaqueWdgAltas+="</div>";MaqueWdgAltas+="</div>";MaqueWdgAltas+='<div id="circleGLoading">';
MaqueWdgAltas+='<div id="circleG_1" class="circleG"></div>';MaqueWdgAltas+='<div id="circleG_2" class="circleG"></div>';MaqueWdgAltas+='<div id="circleG_3" class="circleG"></div>';
MaqueWdgAltas+="</div>";MaqueWdgAltas+='<span style="display:none;" id="feedsAct" data-primero="" data-segundo=""></span>';MaqueWdgAltas+='<ul class="deg">';
MaqueWdgAltas+="</ul>";if(e.tema!="mundial"){MaqueWdgAltas+='<div class="controls"> ';MaqueWdgAltas+='<a class="prev bginactive" title="Link Description" href="#">';
MaqueWdgAltas+='<span class="tvsa-caret-up"></span>';MaqueWdgAltas+="</a>";MaqueWdgAltas+='<a class="next bgactive" title="Link Description" href="#">';
MaqueWdgAltas+='<span class="tvsa-caret-down"></span>';MaqueWdgAltas+="</a>";MaqueWdgAltas+='<a class="full-timetable" href="#"> ';MaqueWdgAltas+="<span>Ver todos</span> ";
MaqueWdgAltas+="</a>";MaqueWdgAltas+="</div>";}MaqueWdgAltas+='<div class="degraded"></div>';h.css("display","none").html(MaqueWdgAltas);clearInterval(c.timerCalendar);
c.timerCalendar=setInterval((function(){c.actualizaContenido();}),c.timeRecarga);var l=new Date(timeDTV.timeYear+"/"+timeDTV.timeMonth+"/"+timeDTV.timeDay);
o=timeDTV.timeYear+"/"+timeDTV.timeMonth+"/"+timeDTV.timeDay;c.fechaInicio=new Date(o);c.fechaAct=o;c.numeroTorneoAct=e.idtorneo,c.numeroIdEquipo=e.idequipo,c.Jornada2=e.idtorneo2,urFinal="";
var k=new Date(c.fechaAct);var m=k.getTime()/1000;$.when(c.primeraJornada()).done(function(){setTimeout(function(){c.segundaJornada();},1000);});if(c.numeroTorneoAct!==0&&c.numeroIdEquipo===0){urFinal=c.jornadaCalendarRoute+c.numeroTorneoAct+"/jornadas/jornadalistadojsonp.js";
$.ajax({url:urFinal,jsonpCallback:c.callbackListado,dataType:"jsonp",cache:true,data:"v="+timeDTV.returnData(),success:function(t){if(t==null){t=new Array();
}c.dataCalendarH=t;var r=0;for(r=0;r<c.dataCalendarH.length;r++){var s=c.dataCalendarH[r];c.jornadaPresente=r;var p=new Date(s.enddate);b+='<li data-jornada="'+p.format("yyyy/mm/dd")+'"><p>'+s.name+"</p></li>";
}$("#name-jornada").html("<p>"+c.dataCalendarH[c.jornadaPresente].name+'</p><span class="tvsa-caret-down"></span>');var q=c.jornadaCalendarRoute+c.numeroTorneoAct+"/jornadas/jornada_"+c.dataCalendarH[c.jornadaPresente].weekid+".js";
$.ajax({url:q,jsonpCallback:c.callbackJornada,dataType:"jsonp",cache:false,data:"v="+timeDTV.returnData(),success:function(u){f(u);$("#feedsAct").data("primero",q);
}});}});}else{if(c.numeroTorneoAct===0&&c.numeroIdEquipo===0){h.remove();}else{if(c.Jornada2===0&&c.numeroTorneoAct===0){h.remove();}}}h.fadeIn(1000);},primeraJornada:function(){if(c.numeroIdEquipo!==0&&c.numeroTorneoAct!==0){urFinal=c.jornadaCalendarRoute+c.numeroTorneoAct+"/clubes/"+c.numeroIdEquipo+"/teamcalendar.js";
h.find(".full-timetable").css("visibility","hidden");$.ajax({url:urFinal,jsonpCallback:"matches",dataType:"jsonp",cache:false,data:"v="+timeDTV.returnData(),success:function(k){f(k);
$("#feedsAct").data("primero",urFinal);},fail:function(){try{c.primeraJornada();}catch(k){console.log(k);}}});h.children(".filterResultado").remove();}$("#title-jornada").text(e.title);
},jornadasCalendarDTV:function(m){clearInterval(c.timerCalendar);c.timerCalendar=setInterval((function(){c.actualizaContenido();}),c.timeRecarga);c.fechaAct=m;
var k=new Date(c.fechaAct);var l=k.getTime()/1000;if(c.numeroTorneoAct!==0&&c.numeroIdEquipo===0){$.ajax({url:c.jornadaCalendarRoute+c.numeroTorneoAct+"/jornadas/jornadalistadojsonp.js",jsonpCallback:c.callbackListado,dataType:"jsonp",cache:true,data:"v="+timeDTV.returnData(),success:function(q){if(q==null){q=new Array();
}c.dataCalendarH=q;var n=0;for(n=0;n<c.dataCalendarH.length;n++){var o=c.dataCalendarH[n];c.jornadaPresente=n;if(l<=o.startstamp){n=c.dataCalendarH.length+1;
}else{if(l<=o.endstamp){n=c.dataCalendarH.length+1;}}}var p=c.jornadaCalendarRoute+c.numeroTorneoAct+"/jornadas/jornada_"+c.dataCalendarH[c.jornadaPresente].weekid+".js";
$.ajax({url:p,jsonpCallback:c.callbackJornada,dataType:"jsonp",cache:false,success:function(r){$("#feedsAct").data("primero",p);f(r);}});}});}},segundaJornada:function(){if(c.Jornada2!==0&&c.numeroIdEquipo!==0){urFinal=c.jornadaCalendarRoute+c.Jornada2+"/clubes/"+c.numeroIdEquipo+"/teamcalendar.js";
$.ajax({url:urFinal,jsonpCallback:c.callbackJornada,dataType:"jsonp",cache:false,success:function(k){$("#feedsAct").data("segundo",urFinal);f(k,"jornada2");
},fail:function(){try{c.segundaJornada();}catch(k){console.log(k);}}});}},actualizaContenido:function(){var l=String($("#feedsAct").data("primero"));var k=String($("#feedsAct").data("segundo"));
if(c.numeroTorneoAct!==0&&c.numeroIdEquipo==0&&c.Jornada2===0){c.procesoActualiza(l);}else{if(c.numeroTorneoAct!==0&&c.numeroIdEquipo!==0&&c.Jornada2===0){c.procesoActualiza(l);
}else{if(c.Jornada2!==0&&c.numeroIdEquipo!==0&&c.numeroTorneoAct!==0){$.when(c.procesoActualiza(l)).done(function(){setTimeout(function(){c.procesoActualiza(k);
},1000);});}}}},procesoActualiza:function(k){var o,n,m,l;$.ajax({url:k,jsonpCallback:c.callbackJornada,dataType:"jsonp",cache:false,success:function(p){for(var q=0;
q<p.length;q++){m=p[q].local.team.gol;m=String(a(p[q].local.team.gol,p[q].local.team.golstatus,p[q].fechastamp));l=String(a(p[q].visit.team.gol,p[q].visit.team.golstatus,p[q].fechastamp));
o=String($("."+p[q].fechastamp).children(".result").eq(0).text());n=String($("."+p[q].fechastamp).children(".result").eq(1).text());(o!==m)?($("."+p[q].fechastamp).children(".result").eq(0).text(o)):"";
(n!==l)?($("."+p[q].fechastamp).children(".result").eq(1).text(n)):"";}},fail:function(){}});}};c.iniciar();c.contenidoCentral=new Array();c.contenidohidde=new Array();
c.contenidoJornada=new Array();c.contenidoJornada2=new Array();c.Global=new Array();c.GlobalSort=new Array();function d(k){$("ul.deg").fadeOut("fast");
$("#circleGLoading").fadeIn("fast");c.jornadasCalendarDTV(k);$("ul.deg").delay(10).fadeIn("slow");$("#circleGLoading").fadeOut("slow",function(){$(this).css("display","none");
});}function f(O,x){if(x!=="jornada2"){c.Global.length=0;c.GlobalSort.length=0;c.contenidoJornada.length=0;c.contenidoJornada2.length=0;}var K=0;if(O==null){O=new Array();
}c.dataCalendar=O;var C=zonaGMT;var v="";var l="";var s="";var B=new Array();var o=0;var u=0;var z=0;z=O.length;for(var I=0;I<z;I++){if(I===0){h.find(".division img").attr("src",O[I].tournament.icono);
h.find(".division h2").text(O[I].tournament.name);if(O[I].tournament.icono.length>0){h.find("#ALtournamentLogo").attr("src",O[I].tournament.icono);}else{h.find("#ALtournamentLogo").hide();
}(typeof(O[I].sef)!=="undefined"&&typeof(O[I].sef.tournamentid)!=="undefined")?h.find(".controls .full-timetable").attr("href","http://stats.televisadeportes.esmas.com/futbol/torneo/"+String(O[I].tournament.name).replace(/ /g,"-").toLowerCase()+"/calendario/"+O[I].sef.tournamentid+"/"):"";
}conjunto=O[I];var m="";var J=convierteFecha(conjunto.fechastamp,C,"dd/mmm");J=J.replace("/",".&nbsp;");var H=conjunto.eventtime.substring(0,5);var M=(tbaner!=undefined&&tbaner!=null&&tbaner!="")?"#"+tbaner:"";
var y=(conjunto.eventurl!=undefined&&conjunto.eventurl!=null&&conjunto.eventurl!="")?conjunto.eventurl:"";if(typeof(conjunto.sef)!=="undefined"){var q=(conjunto.sef.mxmurl!=undefined&&conjunto.sef.mxmurl!=null&&conjunto.sef.mxmurl!="")?conjunto.sef.mxmurl+M:"";
}var q="";var r="";if(typeof(conjunto.local.team)!=="undefined"){r=(j==1)?'<img width="24" height="24" src="'+conjunto.local.team.img.oficial+'" alt="'+conjunto.local.name+'">':'<img width="24" height="24" src="'+conjunto.local.team.img.oficialno+'" alt="'+conjunto.local.name+'">';
}var L="";if(typeof(conjunto.visit.team)!=="undefined"){var L=(j==1)?'<img width="24" height="24" src="'+conjunto.visit.team.img.oficial+'" alt="'+conjunto.local.name+'">':'<img width="24" height="24" src="'+conjunto.visit.team.img.oficialno+'" alt="'+conjunto.local.name+'">';
}if(r=='<img width="24" height="24" src="http://i2.esmas.com/canal30/img/spacer.gif" alt="'+conjunto.local.name+'">'){r='<img width="24" height="24" src="'+conjunto.local.team.img.logoch+'"  alt="'+conjunto.local.name+'">';
}if(L=='<img width="24" height="24" src="http://i2.esmas.com/canal30/img/spacer.gif" alt="'+conjunto.local.name+'">'){L='<img width="24" height="24" src="'+conjunto.visit.team.img.logoch+'"  alt="'+conjunto.local.name+'">';
}var N=(typeof(conjunto.local.team)!=="undefined")?a(conjunto.local.team.gol,conjunto.local.team.golstatus,conjunto.fechastamp):"";var G=(typeof(conjunto.visit.team)!=="undefined")?a(conjunto.visit.team.gol,conjunto.visit.team.golstatus,conjunto.fechastamp):"";
if(typeof(conjunto.local.team)!=="undefined"&&typeof(conjunto.visit.team)!=="undefined"){if(parseInt(conjunto.local.team.pen)>0||parseInt(conjunto.visit.team.pen)>0){N='<div class="result textcolor-title2">('+conjunto.local.team.pen+") "+N+"</div>";
G='<div class="result textcolor-title2">'+G+" ("+conjunto.visit.team.pen+")</div>";}}var k=(typeof x!=="undefined")?"2J":"1J";m='<li class="'+conjunto.fechastamp+" "+conjunto.eventtime+" "+k+" wdg_altasbajas_result_01_block"+((conjunto.minuto!="")?" activo":"")+'" data-link="'+q+'">';
m+='<div class="date textcolor-title2">';m+='<span class="datetext inactive">'+J+"</span>";m+='<span class="time">'+H+"</span>";m+="</div>";m+="<figure>"+r+"<figcaption>"+conjunto.local.abrev+"</figcaption></figure>";
m+='<div class="ligaResult"><span class="result textcolor-title2">'+N+"</span>";m+='<div class="content_versus"> <span class="versus textcolor-title4">-</span>';
m+='<span class="versus_time textcolor-title4">'+conjunto.periodo+" "+conjunto.minuto+"</span></div>";m+='<span class="result textcolor-title2">'+G+"</span></div>";
m+="<figure><figcaption>"+conjunto.visit.abrev+"</figcaption>"+L+"</figure>";m+="</li>";if(x==="jornada2"){c.contenidoJornada2.push(m);}else{c.contenidoJornada.push(m);
}}if(z<9){var E=parseInt(9-z);for(var A=0;A<E;A++){c.contenidoJornada.push('<li class="vacio wdg_altasbajas_result_01_block"><div class="date textcolor-title2"></div><figure></figure><div class="ligaResult"></div><figure></figure></li>');
}}c.Global=c.contenidoJornada.concat(c.contenidoJornada2);c.GlobalSort=c.Global.sort();var n="",D="";for(var F=0;F<c.GlobalSort.length;F++){(F<7)?n+=c.GlobalSort[F]:D+=c.GlobalSort[F];
}var t=n+" "+D;$(".deg").html(t);$("#nro_jornadas").html(b).children("li").bind("click",function(p){d($(this).data("jornada"));});$(".wdg_altasbajas_result_01_block[data-link]").not($("[data-link='']")).css("cursor","pointer").bind("click",function(p){window.location.assign($(this).data("link"));
});(c.GlobalSort.length>7)?$(".controls").css("display","block"):$(".controls").css("display","none");$("#circleGLoading").fadeOut("fast");}};})(jQuery);
jQuery(function(a){(function(c,b){setTimeout(function(){var f=0;if(c(window).width()<978&&c(window).width()>624){f=568;}else{f=163;}c(".wdg_altasbajas_result_01 .deg").bind("swipeup",function(){c(this).animate({scrollTop:c(this).scrollTop()+f},500);
});c(".wdg_altasbajas_result_01 .deg").bind("swipedown",function(){c(this).animate({scrollTop:c(this).scrollTop()-f},500);});c(".wdg_altasbajas_result_01").each(function(g,h){var k=c(this),j={UP:(b.getIsTouchDevice())?"touchend":"mouseup",DOWN:(b.getIsTouchDevice())?"touchstart":"mousedown"},i=k.find(">ul");
k.find("a.prev, a.next, .deportes-prev, .deportes-next").click(function(l){l.preventDefault();});k.find("a.prev, .deportes-prev").bind(j.DOWN,function(){i.animate({scrollTop:i.scrollTop()-i.height()-7},500);
});k.find("a.next, .deportes-next").bind(j.DOWN,function(){i.animate({scrollTop:i.scrollTop()+i.height()+7},500);});});$list=c(".wdg_altasbajas_result_01 .deg").size();
$altura_li=parseInt(c(".wdg_altasbajas_result_01 .deg").height());$altura=($altura_li*$list)+$list;var d=c(".wdg_altasbajas_result_01 ");var e=d.find(".lineaResultado .filter");
e.on("click",function(h){var i=c(this).find(".wdg_altasbajas_result_012_dropdownlist");var g=i.css("visibility");var k=c(this);if(g=="hidden"){i.css({visibility:"visible",height:"auto","max-height":"156px","overflow-y":"scroll","overflow-x":"hidden"});
}else{i.css({visibility:"hidden",height:"0px"});}var j=c(this).find(".wdg_altasbajas_result_012_dropdownlist li");j.bind("click",function(l){l.preventDefault();
k.find(".wdg_altasbajas_result_012_dropdowncontent p").html(c(this).find("p").html());});i.bind("mouseleave",function(m){m.preventDefault();var l=c(this).css("visibility");
if(l=="visible"){c(this).css({visibility:"hidden",height:"0px"});}});});c(".wdg_altasbajas_result_01 .deg").scroll(function(){var j=c(this).scrollTop();
if(c(window).width()<624){$war1_altura=813;}if(c.browser.msie){$war1_altura=470;}else{$war1_altura=c(this).height();}var i=c(".wdg_altasbajas_result_01 .deg").children("li").eq(0).outerHeight();
var h=j+1;var g=h*i;if(g>=$war1_altura){c(this).siblings(".degraded").css("visibility","hidden");c(this).siblings(".controls").children().children(".tvsa-caret-down").parent().removeClass("bgactive");
c(this).siblings(".controls").children().children(".tvsa-caret-down").parent().addClass("bginactive");}else{c(this).siblings(".degraded").css("visibility","visible");
c(this).siblings(".controls").children().children(".tvsa-caret-down").parent().removeClass("bginactive");c(this).siblings(".controls").children().children(".tvsa-caret-down").parent().addClass("bgactive");
}if(j==0){c(this).siblings(".controls").children().children(".tvsa-caret-up").parent().removeClass("bgactive");c(this).siblings(".controls").children().children(".tvsa-caret-up").parent().addClass("bginactive");
}else{c(this).siblings(".controls").children().children(".tvsa-caret-up").parent().removeClass("bginactive");c(this).siblings(".controls").children().children(".tvsa-caret-up").parent().addClass("bgactive");
}});},1500);})(a,Televisa);});if($.browser.msie&&parseInt($.browser.version,10)<=7){$(function(){var a=1000;$(".wdg_altasbajas_result_01 div").each(function(){$(this).css("zIndex",a);
a-=10;});});}