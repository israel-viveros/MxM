/*!
 *   TIM Developer: Israel Viveros
 *   Version: 2.3.13
 *   Copyright: Televisa Interactive Media (2014)
 */
(function(){$.fn.wdgAltasBajas=function(i){var e=$.extend({idtorneo:0,idequipo:0,idtorneo2:0,tema:"deportes",txtdropdown:"Jornada"},i);
var h=this;var b="";var j=1;function g(l,n,k){n=(l!=undefined&&l!=null&&l!=""&&l!="null")?l:n;n=$.trim(n.toUpperCase());var m=n.substring(0,k);return m.toUpperCase();
}function a(p,l,n){var k=new Date(timeDTV.timeYear,(timeDTV.timeMonth-1),timeDTV.timeDay,timeDTV.timeHour,timeDTV.timeMinute);var m=new Date((n*1000)+(3600000*6));
var o="-";if(m<k){o=isNaN(p)?l:p;}else{o=p;}o=(o==null)?"-":o;return o;}var c={jornadaCalendarRoute:"http://static-televisadeportes.esmas.com/sportsdata/futbol/data/",jornadaPresente:0,fechaInicio:"",contenidoCentral:"",contenidohidde:"",fechaAct:"",numeroTorneoAct:0,timerCalendar:0,dataCalendar:"",dataCalendarH:"",callbackJornada:"jornada",callbackListado:"jornadalistado",timeRecarga:60000,createLink:function(k){k=k.toLowerCase();
k=k.replace(/[�]/,"a");k=k.replace(/[�]/,"e");k=k.replace(/[�]/,"i");k=k.replace(/[�]/,"o");k=k.replace(/[�]/,"u");k=k.replace(/ /,"-");return"http://televisadeportes.esmas.com/copa-mundial-fifa-brasil-2014/equipos/"+k;
},iniciar:function(o){(e.tema!=="mundial")?$("head").append('<link rel="stylesheet" href="http://i2.esmas.com/deportes30/mxm/css/TIM_wdg_altasbajas.min.css">'):"";
var n=(e.tema!=="mundial")?"1":"";MaqueWdgAltas="";MaqueWdgAltas+=(e.title!=="")?'<div class="str_pleca_01"><div class="str_pleca_01_title"><h3 class="str_pleca_01_title background-color'+n+'"><a class="textcolor-title3" ><span id="title-jornada"></span><span class="str_pleca_01_arrowa selected"></span><span class="str_pleca_01_arrowb"></span></a></h3></div>':"";
MaqueWdgAltas+="</div>";MaqueWdgAltas+='<div class="division">';MaqueWdgAltas+=(e.tema!=="mundial")?'<img src="" id="ALtournamentLogo" width="45" height="30">':"";
MaqueWdgAltas+='<h2 class="games"></h2>';MaqueWdgAltas+="</div>";MaqueWdgAltas+='<div class="filterResultado">';MaqueWdgAltas+='<div class="lineaResultado result2">';
MaqueWdgAltas+='<span class="title">'+e.txtdropdown+"</span>";MaqueWdgAltas+='<div class="filter">';MaqueWdgAltas+='<div class="wdg_altasbajas_result_012_dropdown drop2">';
MaqueWdgAltas+='<div class="wdg_altasbajas_result_012_dropdowncontent contentF2" id="name-jornada">';MaqueWdgAltas+="<p></p>";MaqueWdgAltas+='<span class="tvsa-caret-down"></span>';
MaqueWdgAltas+="</div>";MaqueWdgAltas+='<div class="wdg_altasbajas_result_012_listcontainer">';MaqueWdgAltas+='<ul class="wdg_altasbajas_result_012_dropdownlist list2" id="nro_jornadas">';
MaqueWdgAltas+="</ul>";MaqueWdgAltas+="</div>";MaqueWdgAltas+="</div>";MaqueWdgAltas+="</div>";MaqueWdgAltas+="</div>";MaqueWdgAltas+="</div>";MaqueWdgAltas+='<div id="circleGLoading">';
MaqueWdgAltas+='<div id="circleG_1" class="circleG"></div>';MaqueWdgAltas+='<div id="circleG_2" class="circleG"></div>';MaqueWdgAltas+='<div id="circleG_3" class="circleG"></div>';
MaqueWdgAltas+="</div>";MaqueWdgAltas+='<span style="display:none;" id="feedsAct" data-primero="" data-segundo=""></span>';MaqueWdgAltas+='<ul class="deg">';
MaqueWdgAltas+="</ul>";if(e.tema!="mundial"){MaqueWdgAltas+='<div class="controls"> ';MaqueWdgAltas+='<a class="prev bginactive">';MaqueWdgAltas+='<span class="tvsa-caret-up"></span>';
MaqueWdgAltas+="</a>";MaqueWdgAltas+='<a class="next bginactive">';MaqueWdgAltas+='<span class="tvsa-caret-down"></span>';MaqueWdgAltas+="</a>";MaqueWdgAltas+='<a class="full-timetable" href="#"> ';
MaqueWdgAltas+="<span>Ver todos</span> ";MaqueWdgAltas+="</a>";MaqueWdgAltas+="</div>";}MaqueWdgAltas+='<div class="degraded"></div>';h.css("display","none").html(MaqueWdgAltas);
clearInterval(c.timerCalendar);if(e.tema!=="mundial"){c.timerCalendar=setInterval((function(){c.actualizaContenido();}),c.timeRecarga);}var l=new Date(timeDTV.timeYear+"/"+timeDTV.timeMonth+"/"+timeDTV.timeDay);
o=timeDTV.timeYear+"/"+timeDTV.timeMonth+"/"+timeDTV.timeDay;c.fechaInicio=new Date(o);c.fechaAct=o;c.numeroTorneoAct=e.idtorneo,c.numeroIdEquipo=e.idequipo,c.Jornada2=e.idtorneo2,urFinal="";
var k=new Date(c.fechaAct);var m=k.getTime()/1000;$.when(c.primeraJornada()).done(function(){setTimeout(function(){c.segundaJornada();},800);});if(c.numeroTorneoAct!==0&&c.numeroIdEquipo===0){urFinal=c.jornadaCalendarRoute+c.numeroTorneoAct+"/jornadas/jornadalistadojsonp.js";
$.ajax({url:urFinal,jsonpCallback:c.callbackListado,dataType:"jsonp",cache:false,data:"v="+timeDTV.returnData(),success:function(t){if(t==null){t=new Array();
}c.dataCalendarH=t;var s=new Array();var u=new Date();for(var q=0;q<c.dataCalendarH.length;q++){var r=c.dataCalendarH[q];c.jornadaPresente=q;b+='<li data-jornada="'+r.enddate.replace(/-/gi,"/")+'"><p>'+r.name+"</p></li>";
if(u>=new Date(r.startdate)){s.push(r.startdate);}}c.jornadaPresente=s.length-1;$("#name-jornada").html("<p>"+c.dataCalendarH[c.jornadaPresente].name+'</p><span class="tvsa-caret-down"></span>');
var p=c.jornadaCalendarRoute+c.numeroTorneoAct+"/jornadas/jornada_"+c.dataCalendarH[c.jornadaPresente].weekid+".js";$.ajax({url:p,jsonpCallback:c.callbackJornada,dataType:"jsonp",cache:false,data:"v="+timeDTV.returnData(),success:function(v){f(v);
$("#feedsAct").data("primero",p);h.fadeIn(1000);c.naat();}});}});}else{if(c.numeroTorneoAct===0&&c.numeroIdEquipo===0){h.remove();}else{if(c.Jornada2===0&&c.numeroTorneoAct===0){h.remove();
}}}},primeraJornada:function(){if(c.numeroIdEquipo!==0&&c.numeroTorneoAct!==0){urFinal=c.jornadaCalendarRoute+c.numeroTorneoAct+"/clubes/"+c.numeroIdEquipo+"/teamcalendar.js";
h.find(".full-timetable").css("visibility","hidden");$.ajax({url:urFinal,jsonpCallback:"matches",dataType:"jsonp",cache:false,data:"v="+timeDTV.returnData(),success:function(k){f(k);
$("#feedsAct").data("primero",urFinal);h.fadeIn(1000);c.naat();},fail:function(){try{c.primeraJornada();}catch(k){console.log(k);}}});h.children(".filterResultado").remove();
}$("#title-jornada").text(e.title);},jornadasCalendarDTV:function(m){clearInterval(c.timerCalendar);if(e.tema!=="mundial"){c.timerCalendar=setInterval((function(){c.actualizaContenido();
}),c.timeRecarga);}c.fechaAct=m;var k=new Date(c.fechaAct);var l=k.getTime()/1000;if(c.numeroTorneoAct!==0&&c.numeroIdEquipo===0){$.ajax({url:c.jornadaCalendarRoute+c.numeroTorneoAct+"/jornadas/jornadalistadojsonp.js",jsonpCallback:c.callbackListado,dataType:"jsonp",cache:false,data:"v="+timeDTV.returnData(),success:function(q){if(q==null){q=new Array();
}c.dataCalendarH=q;var n=0;for(n=0;n<c.dataCalendarH.length;n++){var o=c.dataCalendarH[n];c.jornadaPresente=n;if(l<=o.startstamp){n=c.dataCalendarH.length+1;
}else{if(l<=o.endstamp){n=c.dataCalendarH.length+1;}}}var p=c.jornadaCalendarRoute+c.numeroTorneoAct+"/jornadas/jornada_"+c.dataCalendarH[c.jornadaPresente].weekid+".js";
$.ajax({url:p,jsonpCallback:c.callbackJornada,dataType:"jsonp",cache:false,success:function(r){$("#feedsAct").data("primero",p);f(r);}});}});}},segundaJornada:function(){if(c.Jornada2!==0&&c.numeroIdEquipo!==0){urFinal=c.jornadaCalendarRoute+c.Jornada2+"/clubes/"+c.numeroIdEquipo+"/teamcalendar.js";
$.ajax({url:urFinal,jsonpCallback:"matches",dataType:"jsonp",cache:false,success:function(k){$("#feedsAct").data("segundo",urFinal);f(k,"jornada2");},fail:function(){try{c.segundaJornada();
}catch(k){console.log(k);}}});}},actualizaContenido:function(){var l=String($("#feedsAct").data("primero"));var k=String($("#feedsAct").data("segundo"));
if(c.numeroTorneoAct!==0&&c.numeroIdEquipo==0&&c.Jornada2===0){c.procesoActualiza(l);}else{if(c.numeroTorneoAct!==0&&c.numeroIdEquipo!==0&&c.Jornada2===0){c.procesoActualiza(l);
}else{if(c.Jornada2!==0&&c.numeroIdEquipo!==0&&c.numeroTorneoAct!==0){$.when(c.procesoActualiza(l)).done(function(){setTimeout(function(){c.procesoActualiza(k);
},1000);});}}}},procesoActualiza:function(k){var o,n,m,l;$.ajax({url:k,jsonpCallback:c.callbackJornada,dataType:"jsonp",cache:false,success:function(p){for(var q=0;
q<p.length;q++){m=String(p[q].local.team.gol);l=String(p[q].visit.team.gol);o=String($(".JfromTicker"+p[q].sef.matchid).children(".result").eq(0).text());
n=String($(".JfromTicker"+p[q].sef.matchid).children(".result").eq(1).text());(o!==m)?($(".JfromTicker"+p[q].sef.matchid).children(".result").eq(0).text(o)):"";
(n!==l)?($(".JfromTicker"+p[q].sef.matchid).children(".result").eq(1).text(n)):"";}},fail:function(){}});},naat:function(){(function(n,m){var o=0;if(n(window).width()<978&&n(window).width()>624){o=568;
}else{o=163;}n(".wdg_altasbajas_result_01 .deg").bind("swipeup",function(){n(this).animate({scrollTop:n(this).scrollTop()+o},500);});n(".wdg_altasbajas_result_01 .deg").bind("swipedown",function(){n(this).animate({scrollTop:n(this).scrollTop()-o},500);
});n(".wdg_altasbajas_result_01").each(function(p,q){var t=n(this),s={UP:(m.getIsTouchDevice())?"touchend":"mouseup",DOWN:(m.getIsTouchDevice())?"touchstart":"mousedown"},r=t.find(">ul");
t.find("a.prev, a.next, .deportes-prev, .deportes-next").click(function(u){u.preventDefault();});t.find("a.prev, .deportes-prev").bind(s.DOWN,function(){r.animate({scrollTop:r.scrollTop()-r.height()-7},500);
});t.find("a.next, .deportes-next").bind(s.DOWN,function(){r.animate({scrollTop:r.scrollTop()+r.height()+7},500);});});})($,Televisa);var k=$(".wdg_altasbajas_result_01 ");
var l=k.find(".lineaResultado .filter");l.on("click",function(n){var o=$(this).find(".wdg_altasbajas_result_012_dropdownlist");var m=o.css("visibility");
var q=$(this);if(m=="hidden"){o.css({visibility:"visible",height:"auto","max-height":"156px","overflow-y":"scroll","overflow-x":"hidden"});}else{o.css({visibility:"hidden",height:"0px"});
}var p=$(this).find(".wdg_altasbajas_result_012_dropdownlist li");p.bind("click",function(r){r.preventDefault();q.find(".wdg_altasbajas_result_012_dropdowncontent p").html($(this).find("p").html());
});o.bind("mouseleave",function(s){s.preventDefault();var r=$(this).css("visibility");if(r=="visible"){$(this).css({visibility:"hidden",height:"0px"});
}});});$(".wdg_altasbajas_result_01 .deg").scroll(function(){var p=$(this).scrollTop();if($(window).width()<624){$war1_altura=813;}if($.browser.msie){$war1_altura=470;
}else{$war1_altura=$(this).height();}var o=$(".wdg_altasbajas_result_01 .deg").children("li").eq(0).outerHeight();var n=p+1;var m=n*o;if(m>=$war1_altura){$(this).siblings(".degraded").css("visibility","hidden");
$(this).siblings(".controls").children().children(".tvsa-caret-down").parent().removeClass("bgactive");$(this).siblings(".controls").children().children(".tvsa-caret-down").parent().addClass("bginactive");
}else{$(this).siblings(".degraded").css("visibility","visible");$(this).siblings(".controls").children().children(".tvsa-caret-down").parent().removeClass("bginactive");
$(this).siblings(".controls").children().children(".tvsa-caret-down").parent().addClass("bgactive");}if(p==0){$(this).siblings(".controls").children().children(".tvsa-caret-up").parent().removeClass("bgactive");
$(this).siblings(".controls").children().children(".tvsa-caret-up").parent().addClass("bginactive");}else{$(this).siblings(".controls").children().children(".tvsa-caret-up").parent().removeClass("bginactive");
$(this).siblings(".controls").children().children(".tvsa-caret-up").parent().addClass("bgactive");}});}};c.iniciar();c.contenidoCentral=new Array();c.contenidohidde=new Array();
c.contenidoJornada=new Array();c.contenidoJornada2=new Array();c.Global=new Array();c.GlobalSort=new Array();function d(k){$("ul.deg").fadeOut("fast");
$("#circleGLoading").fadeIn("fast");c.jornadasCalendarDTV(k);$("ul.deg").delay(10).fadeIn("slow");$("#circleGLoading").fadeOut("slow",function(){$(this).css("display","none");
});}function f(S,z){if(z!=="jornada2"){c.Global.length=0;c.GlobalSort.length=0;c.contenidoJornada.length=0;c.contenidoJornada2.length=0;}var O=0;if(S==null){S=new Array();
}c.dataCalendar=S;var D=zonaGMT;var x="";var l="";var u="";var C=new Array();var q=0;var w=0;var A=0;A=S.length;for(var L=0;L<A;L++){if(L===0){h.find(".division img").attr("src",S[L].tournament.icono);
h.find(".division h2").text(S[L].tournament.name);if(typeof(S[L].tournament.icono)!=="undefined"&&S[L].tournament.icono!==""){h.find("#ALtournamentLogo").attr("src",S[L].tournament.icono);
}else{h.find("#ALtournamentLogo").remove();}(typeof(S[L].sef)!=="undefined"&&typeof(S[L].sef.tournamentid)!=="undefined")?h.find(".controls .full-timetable").attr("href","http://stats.televisadeportes.esmas.com/futbol/torneo/"+String(S[L].tournament.name).replace(/ /g,"-").toLowerCase()+"/calendario/"+S[L].sef.tournamentid+"/"):"";
}conjunto=S[L];var m="";var K=conjunto.eventdate.split("-");var I="";switch(parseInt(K[1])){case 1:I="Ene";break;case 2:I="Feb";break;case 3:I="Mar";break;
case 4:I="Abr";break;case 5:I="May";break;case 6:I="Jun";break;case 7:I="Jul";break;case 8:I="Ago";break;case 9:I="Sep";break;case 10:I="Oct";break;case 11:I="Nov";
break;case 12:I="Dic";break;default:I="";break;}var N=K[2]+" "+I;var J=conjunto.eventtime.substring(0,5);var Q=(tbaner!=undefined&&tbaner!=null&&tbaner!="")?"#"+tbaner:"";
var y=(conjunto.eventurl!=undefined&&conjunto.eventurl!=null&&conjunto.eventurl!="")?conjunto.eventurl:"";var r="";if(typeof(conjunto.sef)!=="undefined"){r=(typeof(conjunto.sef.mxmurl)!="undefined"&&conjunto.sef.mxmurl!="")?conjunto.sef.mxmurl:"";
}var t=(e.tema==="deportes")?'<img width="24" height="24" src="'+conjunto.local.team.img.logo+'"  alt="'+conjunto.local.name+'">':'<img width="24" height="24" src="'+conjunto.local.team.img.EscudoMundialF22014+'"  alt="'+conjunto.local.name+'">';
var P=(e.tema==="deportes")?'<img width="24" height="24" src="'+conjunto.visit.team.img.logo+'"  alt="'+conjunto.local.name+'">':'<img width="24" height="24" src="'+conjunto.visit.team.img.EscudoMundialF22014+'"  alt="'+conjunto.local.name+'">';
var R=(typeof(conjunto.local.team)!=="undefined")?conjunto.local.team.gol:"";var H=(typeof(conjunto.visit.team)!=="undefined")?conjunto.visit.team.gol:"";
if(typeof(conjunto.local.team)!=="undefined"&&typeof(conjunto.visit.team)!=="undefined"){if(parseInt(conjunto.local.team.pen)>0||parseInt(conjunto.visit.team.pen)>0){R='<div class="result textcolor-title2"><i class="penalT">('+conjunto.local.team.pen+')</i><i class="golT">'+R+"</i></div>";
H='<div class="result textcolor-title2" style="position: relative; left: -5px;"><i class="golT">'+H+'</i><i class="penalT">('+conjunto.visit.team.pen+")</i></div>";
}}R=(R>0||conjunto.periodo!=="Previo")?R:"";H=(H>0||conjunto.periodo!=="Previo")?H:"";var k=(typeof z!=="undefined")?"2J":"1J";m='<li class="JfromTicker'+conjunto.sef.matchid+" "+conjunto.fechastamp+" "+conjunto.eventtime+" "+k+" wdg_altasbajas_result_01_block"+((conjunto.minuto!="")?" activo":"")+'" >';
m+='<div class="date textcolor-title2">';m+='<span class="datetext inactive">'+N+"</span>";m+='<span class="time">'+J+"</span>";m+="</div>";var M=(conjunto.local.name!==""&&e.tema==="mundial")?c.createLink(conjunto.local.name):"";
var B=(conjunto.visit.name!==""&&e.tema==="mundial")?c.createLink(conjunto.visit.name):"";var n=(e.tema=="mundial")?'style="width:213px;margin-left:-95px;"':"";
var s=(conjunto.minuto!==""&&conjunto.minuto>0)?conjunto.minuto+"'":"";var F=(conjunto.sef.mxmurl!=="")?conjunto.periodo+s:"";m+='<figure style="cursor:pointer;" data-link="'+M+'" >'+t+"<figcaption>"+conjunto.local.abrev+"</figcaption></figure>";
m+=(r!=="")?'<div class="ligaResult" style="cursor:pointer" data-link="'+r+'"><span class="result textcolor-title2">'+R+"</span>":'<div class="ligaResult" data-link=""><span class="result textcolor-title2">'+R+"</span>";
m+='<div class="content_versus"> <span class="versus textcolor-title4">-</span>';m+='<span class="versus_time textcolor-title4" '+n+">"+F+"</span></div>";
m+='<span class="result textcolor-title2">'+H+"</span></div>";m+='<figure style="cursor:pointer;" data-link="'+B+'"><figcaption>'+conjunto.visit.abrev+"</figcaption>"+P+"</figure>";
m+="</li>";if(z==="jornada2"){c.contenidoJornada2.push(m);}else{c.contenidoJornada.push(m);}}c.Global=c.contenidoJornada.concat(c.contenidoJornada2);c.GlobalSort=c.Global.sort();
var o="",E="";if(e.tema==="deportes"){for(var G=0;G<c.GlobalSort.length;G++){(G<7)?o+=c.GlobalSort[G]:E+=c.GlobalSort[G];}}else{for(var G=0;G<c.contenidoJornada.length;
G++){(G<7)?o+=c.contenidoJornada[G]:E+=c.contenidoJornada[G];}}var v=o+" "+E;$(".deg").html(v);$("#nro_jornadas").html(b).children("li").bind("click",function(p){d($(this).data("jornada"));
});if(c.GlobalSort.length>7){$(".controls .next").removeClass("bginactive");$(".controls .next").addClass("bgactive");}$("#circleGLoading").hide("slow",function(){$(this).css("display","none");
});$(".wdg_altasbajas_result_01_block figure, .wdg_altasbajas_result_01_block .ligaResult").click(function(p){p.preventDefault();if($(this).attr("data-link")!==""){window.open($(this).attr("data-link"),"_blank");
}});}};})(jQuery);if($.browser.msie&&parseInt($.browser.version,10)<=7){$(function(){var a=1000;$(".wdg_altasbajas_result_01 div").each(function(){$(this).css("zIndex",a);
a-=10;});});}