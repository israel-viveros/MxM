(function(){$.fn.wdgLiveMxM=function(c){var d=$.extend({idevento:0,actualizacion:0},c);var b=this;var a={urlfeed:"http://lab.israelviveros.com/deportes/wdg_mxm_live_02/155/"+d.idevento+"/mxm.jsonp",feedCallback:"mxmSorteo",timeupdate:(d.actualizacion!==0)?parseInt(d.actualizacion):60000,parentMaquetado:function(){var e="";
e+='<div class="scroll">';e+='<div class="wdg_mxm_live_02_status">';e+='<div class="windows8" id="loadingMxmLive">';e+='<div class="wBall" id="wBall_1"><div class="wInnerBall"></div></div>';
e+='<div class="wBall" id="wBall_2"><div class="wInnerBall"></div></div>';e+='<div class="wBall" id="wBall_3"><div class="wInnerBall"></div></div>';e+='<div class="wBall" id="wBall_4"><div class="wInnerBall"></div></div>';
e+='<div class="wBall" id="wBall_5"><div class="wInnerBall"></div></div>';e+="</div>";e+='<ul class="wdg_mxm_live_02_list" id="pintaCont">';e+="</ul>";
e+="</div>";e+="</div>";b.html(e);},loadMaster:function(){var e="";$.ajax({url:a.urlfeed,type:"GET",dataType:"jsonp",jsonpCallback:a.feedCallback,cache:false}).done(function(k){var j=Math.floor((1+Math.random())*65536).toString(16);
for(var h=0;h<k.action.length;h++){var f="";if(k.action[h].titulo.indexOf("@")!==-1){var g=k.action[h].titulo.split("@");f='<p class="textcolor-title2">'+g[0]+'<span class="textcolor-title4">@'+g[1]+"</span></p>";
}else{f=k.action[h].titulo.replace(/'/g,"&#39;");}e+='<li data-guid="'+j+'">';e+='<div class="time_icon">';if(k.action[h].titulo.indexOf("@")!==-1){e+='<div class="icon-time twitter"><i class="tvsa-twitter"></i></div>';
}else{e+='<div class="textcolor-title2 time">'+k.action[h].minute+"</div>";}e+="</div>";e+='<div class="chronic">'+f;e+='<div class="chronic_description">'+k.action[h].description.replace(/'/g,"&#39;")+"</div>";
e+=(k.action[h].URL!=="")?'<div class="wdg_mxm_live_02_verMas"><a class="textcolor-title1 ui-link" href="'+k.action[h].URL+'">Ver Más</a></div>':"";e+="</div>";
e+='<div class="icon-interactive textcolor-title4">';if(parseInt(k.action[h].videoId)!==0){e+='<i class="tvsa-videocamera"></i>';}e+="</div>";if(k.action[h].imagePath!==""){e+='<div class="icon-interactive2 textcolor-title4"><i class="tvsa-camera"></i></div>';
e+='<div class="img_stage_01 not_here">';e+='<div class="img_stage_01_image">';e+='<img src="'+k.action[h].imagePath+'" alt="'+k.action[h].imagenTitulo+'">';
e+="</div>";e+=(k.action[h].imagenTitulo!==""||k.action[h].imagenDesc!=="")?'<a class="img_stage_01_whtbkg" href="">':"";e+=(k.action[h].imagenTitulo!=="")?'<p class="img_stage_01_black">'+k.action[h].imagenTitulo+"</p> ":"";
e+=(k.action[h].imagenDesc!=="")?'<p class="img_stage_01_gray">'+k.action[h].imagenDesc+"</p>":"";e+=(k.action[h].imagenTitulo!==""||k.action[h].imagenDesc!=="")?"</a> ":"";
e+="</div>";}if(parseInt(k.action[h].videoId)!==0){e+='<div class="vid_player_01 not_here mantener">';e+='<div class="vid_player_01_image">';e+='<iframe width="100%" height="100%" src="" data-id="'+k.action[h].videoId+'" ></iframe>';
e+='<div class="vid_player_01_image_player">';e+='<div class="theaterSideSpacer"></div>';e+='<div class="vid_player_01_ip">';e+='<div class="ip_1"></div>';
e+='<div class="ip_2"></div>';e+="</div>";e+='<div class="theaterSideSpacer"></div>';e+="</div>";e+='<div class="vid_player_01_image_player_none"></div>';
e+="</div>";e+=(k.action[h].videoTitulo!=="")?'<div class="vid_player_01_whtbkg"><p class="vid_player_01_black">'+k.action[h].videoTitulo+"</p></div>":"";
e+="</div>";}e+="</li>";}$("#loadingMxmLive").hide("slow");b.find("#pintaCont").css({display:"none"}).html(e).fadeIn("slow");a.inicio();}).fail(function(){console.log("Error al cargar"+a.urlfeed);
});},inicio:function(){b.find(".tvsa-camera").live("click",function(e){e.preventDefault();var f=$(this).parent().siblings(".img_stage_01");if(!$(this).hasClass("active")){$(".tvsa-camera").removeClass("active textcolor-title1 tvsa-error");
$(this).addClass("active textcolor-title1 tvsa-error");$(".img_stage_01").slideUp("slow");f.slideDown("slow",function(){});}else{$(this).removeClass("active textcolor-title1 tvsa-error");
f.slideUp("slow");}});b.find(".tvsa-videocamera").live("click",function(g){g.preventDefault();var h=$(this).parent().siblings(".vid_player_01.not_here.mantener");
var f,e;if(!$(this).hasClass("active")){$(".tvsa-videocamera").removeClass("active textcolor-title1 tvsa-error");$(this).addClass("active textcolor-title1 tvsa-error");
$(".vid_player_01.not_here.mantener").slideUp("slow").find("iframe").attr({src:""});h.slideDown("slow",function(){e=parseInt($(this).outerWidth()*9/16);
$(this).height(e);$(this).find(".vid_player_01_image").height(e);f=$(this).find("iframe");f.attr({src:"http://tv.televisadeportes.esmas.com/embed/embed_ampp.php?id="+f.data("id")+"&w="+$(this).outerWidth()+"&h="+e+""});
});}else{$(this).removeClass("active textcolor-title1 tvsa-error");h.slideUp("slow",function(){f=$(this).find("iframe");f.attr({src:""});});}});setInterval(function(){a.updateInfo();
},a.timeupdate);},updateInfo:function(){$.ajax({url:a.urlfeed,type:"GET",dataType:"jsonp",jsonpCallback:a.feedCallback,cache:false}).done(function(h){var e=Math.floor((1+Math.random())*65536).toString(16);
var l="";var m=b.find("#pintaCont").children("li").size();var f=h.action.length;if(f>m){var k=f-m;for(var j=0;j<k;j++){var g="";if(h.action[j].titulo.indexOf("@")!==-1){var n=h.action[j].titulo.split("@");
g='<p class="textcolor-title2">'+n[0]+'<span class="textcolor-title4">@'+n[1]+"</span></p>";}else{g=h.action[j].titulo.replace(/'/g,"&#39;");}l+='<li data-guid="'+e+'" style="display:none;">';
l+='<div class="time_icon">';l+=(h.action[j].titulo.indexOf("@")!==-1)?'<div class="icon-time twitter"><i class="tvsa-twitter"></i></div>':'<div class="textcolor-title2 time">'+h.action[j].minute+"</div>";
l+="</div>";l+='<div class="chronic">'+g;l+='<div class="chronic_description">'+h.action[j].description.replace(/'/g,"&#39;")+"</div>";l+=(h.action[j].URL!=="")?'<div class="wdg_mxm_live_02_verMas"><a class="textcolor-title1 ui-link" href="'+h.action[j].URL+'">Ver Más</a></div>':"";
l+="</div>";l+='<div class="icon-interactive textcolor-title4">';if(parseInt(h.action[j].videoId)!==0){l+='<i class="tvsa-videocamera"></i>';}l+="</div>";
if(h.action[j].imagePath!==""){l+='<div class="icon-interactive2 textcolor-title4"><i class="tvsa-camera"></i></div>';l+='<div class="img_stage_01 not_here">';
l+='<div class="img_stage_01_image">';l+='<img src="'+h.action[j].imagePath+'" alt="'+h.action[j].imagenTitulo+'">';l+="</div>";l+=(h.action[j].imagenTitulo!==""||h.action[j].imagenDesc!=="")?'<a class="img_stage_01_whtbkg" href="">':"";
l+=(h.action[j].imagenTitulo!=="")?'<p class="img_stage_01_black">'+h.action[j].imagenTitulo+"</p> ":"";l+=(h.action[j].imagenDesc!=="")?'<p class="img_stage_01_gray">'+h.action[j].imagenDesc+"</p>":"";
l+=(h.action[j].imagenTitulo!==""||h.action[j].imagenDesc!=="")?"</a> ":"";l+="</div>";}if(parseInt(h.action[j].videoId)!==0){l+='<div class="vid_player_01 not_here mantener">';
l+='<div class="vid_player_01_image">';l+='<iframe width="100%" height="100%" src="" data-id="'+h.action[j].videoId+'" ></iframe>';l+='<div class="vid_player_01_image_player">';
l+='<div class="theaterSideSpacer"></div>';l+='<div class="vid_player_01_ip">';l+='<div class="ip_1"></div>';l+='<div class="ip_2"></div>';l+="</div>";
l+='<div class="theaterSideSpacer"></div>';l+="</div>";l+='<div class="vid_player_01_image_player_none"></div>';l+="</div>";l+=(h.action[j].videoTitulo!=="")?'<div class="vid_player_01_whtbkg"><p class="vid_player_01_black">'+h.action[j].videoTitulo+"</p></div>":"";
l+="</div>";}l+="</li>";}b.find("#pintaCont").prepend(l);$("[data-guid="+e+"]").slideDown("slow");}else{}}).fail(function(){console.log("error al actualizar"+a.urlfeed);
});}};if(d.idevento!==0){$.when(a.parentMaquetado()).done(function(){a.loadMaster();});}};})(jQuery);