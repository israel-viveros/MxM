/*!
 *   TIM Developer: Israel Viveros
 *   Version: 1.2.0
 *   Copyright: Televisa Interactive Media (2014)
 */
(function(){$.fn.wdgAltasbajas=function(a){var c=$.extend({idTournament:0,nameTournament:0,abbody:false,title:""},a);
var b=this;var d={feedEquipos:"http://static-televisadeportes.esmas.com/sportsdata/futbol/data/"+c.idTournament+"/teamsclassification.js",feedDraft:"http://static-televisadeportes.esmas.com/sportsdata/futbol/draft/"+c.nameTournament+"/teamdraft.js",secondIDdraw:$("#altasbajasbodyTIM"),iniciaMaquetado:function(){var g='<div class="wdg_altasbajas_01 background-color1">';
g+='<div class="contenedor">';g+='<div class="degraded_left"></div>';g+='<div class="sup_izq textcolor-title3">';g+='<a id="targetDraft" href="#" class="underline_text"><div class="background-color2">DRAFT<div class="hline"></div></div></a>';
g+='<a id="targetMxMDraft" href="#" class="underline_text"><div class="background-color2 hide-mobile">MXM<div class="hline"></div></div></a>';g+='<div class="subtitulo">Altas y Bajas por equipo</div>';
g+='<div class="textcolor-title2" id="nameTournDraft"></div>';g+="</div>";g+='<div class="sup_der">';g+='<div id="target_date"></div>';g+='<table  class="timing">';
g+='<tr class="one" id="countdownDraft"></tr>';g+='<tr class="two">';g+='<td class="textcolor-title2">MES</td>';g+='<td class="textcolor-title2">&nbsp;</td>';
g+='<td class="textcolor-title2">DIA</td>';g+='<td class="textcolor-title2">&nbsp;</td>';g+='<td class="textcolor-title2">HRS</td>';g+='<td class="textcolor-title2">&nbsp;</td>';
g+='<td class="textcolor-title2">MIN</td>';g+='<td class="textcolor-title2">&nbsp;</td>';g+='<td class="textcolor-title2">SEG</td>';g+="</tr>";g+="</table>";
g+="</div>";g+='<div class="tabla_ab">';g+='<div class="titles">';g+='<div class="textcolor-title3">ALTAS</div>';g+='<div class="textcolor-title3">BAJAS</div>';
g+="</div>";g+='<div class="tabla">';g+='<table  class="teams">';g+='<tr id="firstlogo">';g+="</tr>";g+='<tr class="ab" id="altTIM"></tr>';g+='<tr class="ab" id="bajTIM"></tr>';
g+="</table>";g+="</div>";g+='<div class="totales">';g+='<div class="textcolor-title2">Totales</div>';g+='<div class="numeros">';g+='<div class="textcolor-title3" id="totAl">-</div>';
g+='<div class="textcolor-title3" id="totBaj">-</div>';g+="</div>";g+="</div>";g+="</div>";g+='<div class="degraded_right"></div>';g+="</div>";g+="</div>";
b.html(g);try{d.infoequipos();}catch(f){console.log(f);}},infoequipos:function(){var g="",e="",f="";$.ajax({url:d.feedEquipos,type:"GET",dataType:"jsonp",jsonpCallback:"teamsClassification",cache:false}).done(function(j){for(var h=0;
h<j.dataEstadistica.length;h++){if(h<18){g+='<td class="textcolor-title3" id="lg'+j.dataEstadistica[h].idTeam+'">';g+='<a href="'+document.URL+j.dataEstadistica[h].webNameTeam+'_d.html" target="_parent" class="underline_text">';
g+='<img src="'+j.dataEstadistica[h].urlLogoClub+'" width="24" height="24" alt="#">'+j.dataEstadistica[h].aliasTeam;g+="</a>";g+="</td>";e+='<td class="al'+j.dataEstadistica[h].idTeam+'">-</td>';
f+='<td class="ba'+j.dataEstadistica[h].idTeam+'">-</td>';}}$("#firstlogo").html(g);$("#altTIM").html(e);$("#bajTIM").html(f);try{if(c.abbody===true){d.secondDraw(j);
}else{d.infodraft();}}catch(k){console.log(k);}}).fail(function(){console.log("error al cargar el feed: "+d.feedEquipos);});},infodraft:function(){var f="",e=0;
$.ajax({url:d.feedDraft,type:"GET",dataType:"jsonp",jsonpCallback:"teamDraft",cache:false}).done(function(j){var m=j.draftEndDate.split("/"),g=m[2]+"/"+m[1]+"/"+m[0],l=g+" "+j.draftEnd;
for(var h=0;h<j.draftTeams.length;h++){altas=j.draftTeams[h].teamAdd;bajas=j.draftTeams[h].teamDelete;$(".al"+j.draftTeams[h].id).text(altas);$(".ba"+j.draftTeams[h].id).text(bajas);
e=parseInt(altas)+parseInt(bajas);$(".tot"+j.draftTeams[h].id).text(e);}(typeof(j.draftTotalAdd)==="string")?$("#totAl").text(j.draftTotalAdd):"";(typeof(j.draftTotalDelete)==="string")?$("#totBaj").text(j.draftTotalDelete):"";
(typeof(j.draftTournament.name)==="string")?$("#nameTournDraft").text(j.draftTournament.name):"";(typeof(j.draftURL)==="string")?$("#targetDraft").attr("href",j.draftURL):"";
(typeof(j.draftURL)==="string")?$("#targetMxMDraft").attr("href",j.draftURL+"mxm.html"):"";try{d.startCountdown(l);}catch(k){console.log(k);}}).fail(function(){console.log("error al cargar el feed: "+d.feedDraft);
});},spanish:function(){$.countdown.regionalOptions.es={labels:["A\u00F1os","Meses","Semanas","D\u00EDas","Hrs.","Min.","Seg."],labels1:["A\u00F1o","Mes","Semana","D\u00EDas","Hrs.","Min.","Seg."],compactLabels:["a","m","s","g"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:false};
$.countdown.setDefaults($.countdown.regionalOptions.es);},startCountdown:function(f){d.spanish();var e=new Date(f);$("#countdownDraft").countdown({until:e,format:"ODHMS",layout:'<td rowspan="2" class="textcolor-title2 cut"><div class="vline"></div>El torneo comienza en:</td><td class="textcolor-title3" id="months">{on}</td><td class="textcolor-title3">Â·</td><td class="textcolor-title3" id="days">{dn}</td><td class="espacio">&nbsp;</td><td class="textcolor-title3" id="hours">{hn}</td><td class="textcolor-title3">:</td><td class="textcolor-title3" id="minutes">{mn}</td><td class="textcolor-title3">:</td><td class="textcolor-title3" id="seconds">{sn}</td>'});
},secondDraw:function(f){var g="";g+='<div class="wdg_stats_teams_02" data-enhance="false">    ';g+='<h2 class="textcolor-title2">'+c.title+"</h2>";g+='<div class="more_teams_stadistics">';
g+='<div class="teams_stadistics_table">';for(var e=0;e<f.dataEstadistica.length;e++){g+='<div class="teams_stadistics">';g+='<a class="link_table" target="_self" href="'+document.URL+f.dataEstadistica[e].webNameTeam+'_d.html">';
g+='<div class="name_team"><h3>'+f.dataEstadistica[e].nameTeam+"</h3></div>";g+='<div class="img_team"><img src="'+f.dataEstadistica[e].urlLogoClub+'" alt="'+f.dataEstadistica[e].nameTeam+'"></div>';
g+='<div class="textcolor-title4 tot'+f.dataEstadistica[e].idTeam+'">-</div>';g+='<div class="titles_left">';g+='<p class="textcolor-title1">ALTAS</p>';
g+='<p class="textcolor-title2 al'+f.dataEstadistica[e].idTeam+'">-</p>';g+="</div>";g+='<div class="separator_title"></div>';g+='<div class="titles_right">';
g+='<p class="textcolor-title1">BAJAS</p>';g+='<p class="textcolor-title2 ba'+f.dataEstadistica[e].idTeam+'">-</p>';g+="</div>";g+='<div class="marrow"><i class="tvsa-caret-right"></i></div>';
g+="</a>";g+="</div>";if(e!==3&&e!==7&&e!==11&&e!==15&&e!==19){g+='<div class="separator_team"></div>';}}g+="</div>";g+="</div>";g+='<div class="degraded"></div ></div>';
$("#altasbajasbodyTIM").html(g);d.infodraft();}};if(c.idTournament!==0){d.iniciaMaquetado();}else{console.log("Falta el ID del torneo");}};})(jQuery);