/*!
 *   TIM Developer: Israel Viveros
 *   Version: 1.4.14
 *   Copyright: Televisa Interactive Media (2014)
 */
(function(){$.fn.WdgSportResult=function(b){var c=$.extend({idtorneo:0,idteam:0,tema:"deportes"},b);
var a=this;var d=null;var e={urlFinalHeader:"http://static-televisadeportes.esmas.com/sportsdata/futbol/data/"+c.idtorneo+"/"+c.idteam+"/match_header.js",IdPestanasMenu:$("#TIMnav_smnu_sports"),tmpescuchaListener:0,loadInfo:function(f){$.ajax({url:e.urlFinalHeader,type:"GET",dataType:"jsonp",jsonpCallback:"mxmheader",cache:false,async:false}).done(function(g){(f==="update")?e.updateGoles(g):e.drawHeader(g);
(f==="update"&&typeof(g.paginas)!=="undefined"&&e.IdPestanasMenu.length)?e.drawMenu(g.paginas,g.url,g.tiempo):"";}).fail(function(g){console.log("Error al cargar: "+e.urlFinalHeader);
console.log(g);});},drawHeader:function(k){var l=(c.tema==="mundial"&&typeof(k.equipoLocal.mundialImage)!=="undefined"&&k.equipoLocal.mundialImage!=="")?'<img class="linkbanderalocal" src="'+k.equipoLocal.mundialImage+'" alt="'+k.equipoLocal.nombre+'" width="48" height="36">':'<img class="linkbanderalocal" src="'+k.equipoLocal.lineupImage+'" alt="'+k.equipoLocal.nombre+'" width="48" height="36">';
var i=(c.tema==="mundial"&&typeof(k.equipoVisitante.mundialImage)!=="undefined"&&k.equipoVisitante.mundialImage!=="")?'<img class="linkbanderavisit" src="'+k.equipoVisitante.mundialImage+'" width="48" height="36" alt="'+k.equipoVisitante.nombre+'">':'<img class="linkbanderavisit" src="'+k.equipoVisitante.lineupImage+'" width="48" height="36" alt="'+k.equipoVisitante.nombre+'">';
var h=(c.tema==="mundial"&&typeof(k.equipoLocal.mundialImage)!=="undefined"&&k.equipoLocal.mundialImage!=="")?k.equipoLocal.mundialImage:k.equipoLocal.lineupImage;
var f=(c.tema==="mundial"&&typeof(k.equipoVisitante.mundialImage)!=="undefined"&&k.equipoVisitante.mundialImage!=="")?k.equipoVisitante.mundialImage:k.equipoVisitante.lineupImage;
var p='<span class="linkbanderalocal">'+k.equipoLocal.nombre+"</span>";var q='<span class="linkbanderavisit">'+k.equipoVisitante.nombre+"</span>";var u="",r=(parseInt(k.minuto)!==0)?k.minuto+"'":"";
u+='<div class="wrapper"><div class="match_title">';u+='<span class="hidden" id="datosTIMHeader"><span id="linklocalTIM">'+k.equipoLocal.url+'</span> <span id="linkvisitTIM">'+k.equipoVisitante.url+'</span> <span id="timeUpdateMxM">0</span> <span id="localAbrevTIM" class="hidden">'+k.equipoLocal.abrev+'</span> <span id="visitAbrevTIM" class="hidden">'+k.equipoVisitante.abrev+'</span> <span id="localImgTIM" class="hidden">'+h+'</span> <span id="visitImgTIM" class="hidden">'+f+'</span> <span id="localGolesTIM" class="hidden">'+k.equipoLocal.goles+'</span> <span id="visitGolesTIM" class="hidden">'+k.equipoVisitante.goles+'</span> <span id="FechaMatchTIM" class="hidden">'+k.fechaPartido+'</span> <span id="HourMatchTIM" class="hidden">'+k.horaPartido+"</span>  </span>";
u+='<div class="cup_name">';u+=(k.transmisionVivo!=="")?'<div class="live-container textcolor-title3 background-color2 hidden" id="TIMVivoHeader" onclick="javascript:window.open(\''+k.transmisionVivo+'\');" style="cursor:pointer"><div class="icon-video"><i class="tvsa-videocamera"></i></div><div class="see-now">VER AHORA</div><div class="online">EN VIVO</div></div>':"";
u+='<div class="titulo textcolor-title3">'+k.torneo.nombre+"</div>";u+='<div class="subtitulo textcolor-title2">'+k.jornada.nombre+"</div>";u+="</div>";
u+="</div>";u+='<div class="live_time textcolor-title3 background-color1"><span>'+k.tiempo.replace(/'/g,"'")+" "+r+"</span></div>";u+='<div class="leftside">';
u+=(c.tema==="mundial")?'<div class="padre">':"";u+='<div class="team1">';u+='<div class="escudo">'+l+"</div>";u+='<div class="equipo">'+p+"</div>";u+='<div class="score">'+k.equipoLocal.goles+"</div>";
u+=(k.equipoLocal.penales===""||parseInt(k.equipoLocal.penales)===0)?'<div class="penales" style="visibility:hidden"><span class="penal"></span> PENALES</div>':'<div class="penales"><span class="penal">'+k.equipoLocal.penales+"</span> PENALES</div>";
u+="</div>";u+='<div class="dotted_separator"></div>';u+='<div class="team2">';u+=(k.equipoVisitante.penales===""||parseInt(k.equipoVisitante.penales)===0)?'<div class="penales" style="visibility:hidden"><span class="penal"></span> PENALES</div>':'<div class="penales"><span class="penal">'+k.equipoVisitante.penales+"</span> PENALES</div>";
u+='<div class="score">'+k.equipoVisitante.goles+"</div>";u+='<div class="equipo">'+q+"</div>";u+='<div class="escudo">'+i+"</div>";u+="</div>";u+='<div class="team2_m">';
u+=(k.equipoVisitante.lineupImage!=="")?'<div class="escudo">'+i+"</div>":"";u+='<div class="equipo">'+q+"</div>";u+='<div class="score">'+k.equipoVisitante.goles+"</div>";
u+=(k.equipoVisitante.penales===""||parseInt(k.equipoVisitante.penales)===0)?'<div class="penales" style="visibility:hidden"><span class="penal"></span> PENALES</div>':'<div class="penales"><span class="penal">'+k.equipoVisitante.penales+"</span> PENALES</div>";
u+="</div>";u+=(c.tema!=="mundial")?'<div class="solid_separator"></div>':"";u+='<div class="match_info">';u+=(typeof k.partidoIda!=="undefined")?'<div class="ida">Partido ida: <span class="blanco">'+k.partidoIda.local+" "+k.partidoIda.golesLocal+" - "+k.partidoIda.golesVisitante+" "+k.partidoIda.visitante+"</span></div>":"";
if(parseInt(k.equipoLocal.golesGlobal)!==0||parseInt(k.equipoVisitante.golesGlobal)!==0){u+='<div class="scoreglobal">Global: <span class="blanco">'+k.equipoLocal.nombre+' <span id="globalLoc">'+k.equipoLocal.golesGlobal+'</span> - <span id="globalVi">'+k.equipoVisitante.golesGlobal+"</span> "+k.equipoVisitante.nombre+"</span></div>";
}u+="</div>";u+="</div>";u+=(c.tema==="mundial")?'<div class="solid_separator"></div></div>':"";u+='<div class="date_venue">';u+='<div class="when">'+k.fechaPartidoLetra.replace(/-/g," ")+" <span>"+k.horaPartido+"</span></div>";
u+=(typeof k.estadio!=="undefined"&&k.estadio.nombre!=="")?'<div class="where">Estadio '+k.estadio.nombre+"<br>"+k.estadio.ciudad+", "+k.estadio.pais+"</div>":"";
u+=(typeof k.datocurioso!=="undefined")?'<div class="info">'+k.datocurioso+"</div>":"";u+="</div>";u+="</div>";a.css("display","none").html(u).slideDown("slow",function(){$(this).css({display:"block"});
});if(k.tiempo.toLowerCase()!=="final"){setTimeout(function(){e.timeUpdate(k.fechaPartido,k.horaPartido);},300);setInterval(function(){e.timeUpdate(k.fechaPartido,k.horaPartido);
},60000);}(typeof k.paginas!=="undefined"&&e.IdPestanasMenu.length)?e.drawMenu(k.paginas,k.url,k.tiempo):e.IdPestanasMenu.hide();if(c.tema==="mundial"&&k.tiempo==="Final"){var t=new Array(25371,25374,25376,25377,25379,25381,25368,25370);
var o=t.indexOf(c.idteam);if(o!==-1){var n=setInterval(function(){$(".interaMenuTim").remove();if($(".interaMenuTim").length===0){clearInterval(n);}},800);
}}var s=$("#linklocalTIM").text();var m=$("#linkvisitTIM").text();$(document).on("click",".linkbanderalocal",function(v){v.preventDefault();(s!=="")?window.open(s,"_blank"):"";
});$(document).on("click",".linkbanderavisit",function(v){v.preventDefault();(m!=="")?window.open(m,"_blank"):"";});$(document).on("hover",".linkbanderalocal",function(){if(s!==""){$(this).css("cursor","pointer");
}});$(document).on("hover",".linkbanderavisit",function(){if(m!==""){$(this).css("cursor","pointer");}});var g=0;var j=setInterval(function(){g++;if(g>5){clearInterval(j);
}$("img.linkbanderalocal").attr("src",$("#localImgTIM").text());$("img.linkbanderavisit").attr("src",$("#visitImgTIM").text());},3000);},updateGoles:function(k){var h="",h="",i="",m="",n="",r="",u="",j="",f="",l="",g="",t="",s="",q="",p="",o=(parseInt(k.minuto)!==0)?k.minuto+"'":"";
var h=String(k.equipoLocal.goles),i=String(k.equipoVisitante.goles),m=String(k.equipoLocal.penales),n=String(k.equipoVisitante.penales),l=String(k.tiempo)+" "+String(o),p=String(k.equipoLocal.golesGlobal),s=String(k.equipoVisitante.golesGlobal);
r=$(".team1 .score").text(),u=$(".team2 .score").text(),j=$(".team1 .penal").text(),f=$(".team2 .penal").text(),g=$(".live_time").text(),q=$("#globalLoc").text(),t=$("#globalVi").text();
(h!==String(r))?e.nuevoValor($(".team1 .score"),h):"";(i!==String(u))?e.nuevoValor($(".team2 .score, .team2_m .score"),i):"";(j!==String(m)&&parseInt(m)>0)?e.nuevoValor($(".team1 .penal"),m):"";
(f!==String(n)&&parseInt(n)>0)?e.nuevoValor($(".team2 .penal,.team2_m .penal"),n):"";(l!==String(g))?e.nuevoValor($(".live_time span"),l):"";(p!==String(q))?e.nuevoValor($("#globalLoc"),p):"";
(s!==String(t))?e.nuevoValor($("#globalVi"),s):"";},nuevoValor:function(f,g){f.parent(".penales").css("visibility","visible");f.fadeOut("slow",function(){$(this).empty();
$(this).text(g).slideDown("fast");});},timeUpdate:function(j,g){var f=$("#TIMVivoHeader");var h=0;var i="20"+j.substring(8,10)+"/"+j.substring(3,5)+"/"+j.substring(0,2)+" "+g.substring(0,5)+":00";
$.ajax({url:"http://mxm.televisadeportes.esmas.com/deportes/home/timetvjsonp.js",async:false,cache:false,dataType:"jsonp",jsonpCallback:"timetv",success:function(r){var t="",o=0,n=0,z=a.find(".live_time").text().toLowerCase().trim();
if(z==="previo"){a.find(".score").css("visibility","hidden");}else{a.find(".score").css("visibility","visible");}horas=r.timetv;t=r.fechatv.replace(/_/gi,"-").split("-");
o=parseInt(t[1])+1;if(String(o).length===1){o="0"+o;}n=parseInt(t[2])+1900;fechas=n+"/"+o+"/"+t[0];fechas=fechas+" "+horas+":00";var y=new Date(i);var x=new Date(fechas);
var s=Date.UTC(y.getFullYear(),y.getMonth()+1,y.getDate());var q=Date.UTC(x.getFullYear(),x.getMonth()+1,x.getDate());if(parseFloat(s)<parseFloat(q)){console.log("Fecha Menor(YA PASO EL PARTIDO)");
}else{if(parseFloat(s)===parseFloat(q)){console.log("Dia del Evento");var v=y.getTime(),l=x.getTime(),k=18000000,u=3600000,w=v+k,A=v-u,p=v-l;console.log("Hora Servidor: "+new Date(l));
console.log("Hora Partido: "+new Date(v));console.log("Hora Previo partido: "+new Date(A));console.log("Hora Fin partido: "+new Date(w));if(v<=l&&l<=w){console.log("El patido esta en vivo");
if(f.length){f.removeClass("hidden");}h=20000;}else{console.log(p);if(parseInt(p)<u&&parseInt(p)>0){console.log("Estamos a menos de 60 min del partido");
h=20000;}}}else{if(parseFloat(s)>parseFloat(q)){console.log("Fecha Mayor (AUN NO PASA EL PARTIDO)");}else{console.log("Error no actualizo");}}}if(h===0){h=(z!=="final"&&z!=="previo")?20000:0;
}console.log("Tiempo de actualizacion: "+h);clearInterval(d);if(h!==0){d=setInterval(function(){e.tmpescuchaListener=parseInt($("#timeUpdateMxM").text());
e.loadInfo("update");},h);}$("#timeUpdateMxM").text(h);if(c.tema==="mundial"){if(h!==0){$(".interaMenuTim").css("display","inline");}else{if(h===0){$(".interaMenuTim").css("display","none");
}}}}});},drawMenu:function(h,f,l){var g="";g+='<div class="navarrowleft">';g+='<a class="wdg_matchesresult_navleft" href="#left"> ';g+='<span class="navlefticon"><i class="tvsa-double-caret-left inactive"></i></span></a></div>';
g+='<div class="container">';g+='<div class="nav_smnu_sports_01_bar"><ul>';g+=(typeof h.previo!=="undefined"&&h.previo!=="")?'<li class="previoMenuTim"> <a href="'+f+h.previo+'" target="_parent">Previo</a></li>':"";
g+=(typeof h.alineacion!=="undefined"&&h.alineacion!=="")?'<li class="nav_smnu_sports_01_block alineacionMenuTim"><a href="'+f+h.alineacion+'" target="_parent" title="Alineaci\u00F3n">Alineaci\u00F3n</a></li>':"";
g+=(typeof h.rating!=="undefined"&&h.rating!==""&&c.tema!=="mundial")?'<li class="hide1 ratingMenuTim"><a href="'+f+h.rating+'" title="Rating">Rating</a></li>':"";
g+=(typeof h.mxm!=="undefined"&&h.mxm!=="")?'<li class="nav_smnu_sports_01_block nav_smnu_sports_01_block2 mxmMenuTim"><a href="'+f+h.mxm+'" target="_parent" title="MxM">MxM</a></li>':"";
g+=(typeof h.pizarra!=="undefined"&&h.pizarra!==""&&c.tema!=="mundial")?'<li class="hide2 pizarraMenuTim"><a href="'+f+h.pizarra+'" title="Pizarra">Pizarra</a></li>':"";
g+=(typeof h.cronica!=="undefined"&&h.cronica!=="")?'<li class="nav_smnu_sports_01_block nav_smnu_sports_01_block2 cronicaMenuTim"><a href="'+f+h.cronica+'" target="_parent" title="Cr\u00F3nica">Cr\u00F3nica</a></li>':"";
g+=(typeof h.video!=="undefined"&&h.video!=="")?'<li class="last nav_smnu_sports_01_block videoMenuTim"><a href="'+f+h.video+'" title="Video" target="_parent">Video</a></li>':"";
g+=(c.idteam===25521||c.idteam===25395||c.idteam===25487||c.idteam===25488||c.idteam===25335||c.idteam===25334)?'<li class="last nav_smnu_sports_01_block camara360"><a href="camara360.html" title="camara" target="_parent">C\u00E1mara 360</a></li>':"";
g+=(c.tema==="mundial"&&c.idtorneo!==369)?'<li class="last nav_smnu_sports_01_block interaMenuTim"><a href="interacciontd.html" title="interacci\u00F3n TD" target="_parent">Interacci\u00F3n TD</a></li>':"";
g+="</ul></div></div>";g+='<div class="navarrowright"><a class="wdg_matchesresult_navright" href="#right">';g+='<span class="navrighticon"><i class="tvsa-double-caret-right active"></i></span></a></div>';
e.IdPestanasMenu.html(g).show();var j=document.URL;(/previo.html/.test(j))?$(".previoMenuTim").addClass("current"):"";(/alineacion.html/.test(j))?$(".alineacionMenuTim").addClass("current"):"";
(/rating.html/.test(j))?$(".ratingMenuTim").addClass("current"):"";(/mxm.html/.test(j))?$(".mxmMenuTim").addClass("current"):"";(/pizarra.html/.test(j))?$(".pizarraMenuTim").addClass("current"):"";
(/cronica.html/.test(j))?$(".cronicaMenuTim").addClass("current"):"";(/video.html/.test(j))?$(".videoMenuTim").addClass("current"):"";(/interacciontd.html/.test(j))?$(".interaMenuTim").addClass("current"):"";
(/camara360.html/.test(j))?$(".camara360").addClass("current"):"";(/previo_d.html/.test(j))?$(".previoMenuTim").addClass("current"):"";(/alineacion_d.html/.test(j))?$(".alineacionMenuTim").addClass("current"):"";
(/rating_d.html/.test(j))?$(".ratingMenuTim").addClass("current"):"";(/mxm_d.html/.test(j))?$(".mxmMenuTim").addClass("current"):"";(/pizarra_d.html/.test(j))?$(".pizarraMenuTim").addClass("current"):"";
(/cronica_d.html/.test(j))?$(".cronicaMenuTim").addClass("current"):"";if(c.tema==="mundial"){var k=[25521,25395,25487,25488];for(var m=0;m<k.length;m++){if(parseInt(c.idteam)===k[m]){$(".interaMenuTim").css("display","none");
}}var n=[25335,25334];for(var i=0;i<n.length;i++){if(c.idteam===n[i]){$(".interaMenuTim, .camara360").css("display","inline");e.IdPestanasMenu.addClass("mexspecial");
}}}}};if(c.idtorneo!==0&&c.idteam!==0){setTimeout(function(){e.loadInfo();},300);}else{(console.log("---->Faltan los Id's de team y/o torneo"));}};})(jQuery);
